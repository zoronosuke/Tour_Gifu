<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚ãªãŸã®ãŸã‚ã®çœŸå¿ƒã‚’è¾¼ã‚ãŸãŠã‚‚ã¦ãªã— - Your Personal Journey, Crafted with Sincerity</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans JP', 'Yu Gothic', 'æ¸¸ã‚´ã‚·ãƒƒã‚¯', YuGothic, sans-serif;
            line-height: 1.6;
            color: #2c2c2c;
            overflow-x: hidden;
        }

        /* ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            z-index: 1000;
            padding: 20px 0;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .navbar.scrolled {
            background: rgba(255, 255, 255, 0.99);
            padding: 15px 0;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.15);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 30px;
        }

        .logo {
            font-size: 20px;
            font-weight: 300;
            color: #2c2c2c;
            text-decoration: none;
            letter-spacing: 1px;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 40px;
        }

        .nav-menu a {
            text-decoration: none;
            color: #2c2c2c;
            font-weight: 300;
            letter-spacing: 1px;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-menu a:hover {
            color: #c8860d;
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 1px;
            background: #c8860d;
            transition: width 0.3s ease;
        }

        .nav-menu a:hover::after {
            width: 100%;
        }

        /* ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
        .hamburger {
            display: flex;
            flex-direction: column;
            cursor: pointer;
            gap: 5px;
        }

        .hamburger span {
            width: 25px;
            height: 2px;
            background: #2c2c2c;
            transition: all 0.3s ease;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        .side-menu {
            position: fixed;
            top: 0;
            left: -300px;
            width: 300px;
            height: 100vh;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            z-index: 2000;
            transition: left 0.3s ease;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
        }

        .side-menu.active {
            left: 0;
        }

        .side-menu-header {
            padding: 30px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .side-menu-close {
            font-size: 30px;
            cursor: pointer;
            color: #2c2c2c;
        }

        .side-menu-list {
            list-style: none;
            padding: 20px 0;
        }

        .side-menu-list li {
            border-bottom: 1px solid #f0f0f0;
        }

        .side-menu-list a {
            display: block;
            padding: 20px 30px;
            color: #2c2c2c;
            text-decoration: none;
            font-weight: 300;
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }

        .side-menu-list a:hover {
            background: #f9f9f9;
            color: #c8860d;
            padding-left: 40px;
        }

        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1999;
            display: none;
        }

        .menu-overlay.active {
            display: block;
        }

        .language-toggle {
            position: relative;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            font-weight: 300;
            letter-spacing: 1px;
        }

        .language-selector {
            position: relative;
            cursor: pointer;
        }

        .language-current {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            background: transparent;
            border: 1px solid #2c2c2c;
            border-radius: 3px;
            font-size: 0.9rem;
            font-weight: 300;
            color: #2c2c2c;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .language-current:hover {
            background: #f5f5f5;
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 5px;
            background: #c8a05a;
            border-radius: 5px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            min-width: 180px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 1001;
            display: none;
        }

        .language-dropdown.active {
            display: block;
        }

        .language-dropdown-item {
            padding: 12px 20px;
            color: #2c2c2c;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.9rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .language-dropdown-item:last-child {
            border-bottom: none;
        }

        .language-dropdown-item:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .language-dropdown-item.active {
            background: rgba(255, 255, 255, 0.3);
            font-weight: 500;
        }

        /* ã‚«ãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³ */
        .cart-icon {
            position: relative;
            cursor: pointer;
            padding: 8px 15px;
            border: 1px solid #2c2c2c;
            border-radius: 3px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .cart-icon:hover {
            background: #f5f5f5;
        }

        .cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #c8860d;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .cart-badge.hidden {
            display: none;
        }

        /* ã‚«ãƒ¼ãƒˆãƒãƒƒã‚¸ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes badgePop {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.3);
            }
            100% {
                transform: scale(1);
            }
        }

        .cart-badge.pop {
            animation: badgePop 0.3s ease;
        }

        /* ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ */
        .toast-notification {
            position: fixed;
            top: 100px;
            right: 30px;
            background: rgba(200, 134, 13, 0.95);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            z-index: 3000;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95rem;
            opacity: 0;
            transform: translateX(400px);
            transition: all 0.3s ease;
            pointer-events: none;
        }

        .toast-notification.show {
            opacity: 1;
            transform: translateX(0);
        }

        .toast-notification .toast-icon {
            font-size: 1.3rem;
        }

        .toast-notification .toast-message {
            flex: 1;
        }

        @media (max-width: 768px) {
            .toast-notification {
                top: 80px;
                right: 15px;
                left: 15px;
                font-size: 0.9rem;
                padding: 12px 20px;
            }
        }

        /* ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .hero {
            height: 140vh; /* é«˜ã•ã‚’å¢—ã‚„ã—ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒã‹ã¶ã‚‰ãªã„ã‚ˆã†ã« */
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            overflow: hidden;
            background: linear-gradient(45deg, #1a1a1a, #2d2d2d);
            padding-top: 20px; /* ãƒŠãƒ“ãƒãƒ¼ã®é«˜ã•åˆ†ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¿½åŠ  */
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                45deg,
                rgba(26, 26, 26, 0.75),
                rgba(45, 45, 45, 0.6)
            );
            z-index: 2;
        }

        .hero-content {
            position: relative;
            z-index: 3;
            color: white;
            max-width: 900px;
            padding: 0 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: calc(70vh - 100px); /* é«˜ã•ã‚’èª¿æ•´ã—ã¦ä½™è£•ã‚’æŒãŸã›ã‚‹ */
            margin-top: 20px; /* ã‚ˆã‚Šå¤§ããªãƒãƒ¼ã‚¸ãƒ³ã§ä¸‹ã«é…ç½® */
        }

        .hero-title {
            font-size: 3.2rem;
            font-weight: 100;
            margin-bottom: 15px;
            letter-spacing: 3px;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1.8s ease 0.5s forwards;
            line-height: 1.3;
        }

        .hero-title-line1 {
            display: block;
            margin-bottom: 10px;
        }

        .hero-title-line2 {
            display: block;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            font-weight: 300;
            margin-bottom: 35px;
            letter-spacing: 2px;
            opacity: 0.9;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1.8s ease 1s forwards;
        }

        .hero-description {
            font-size: 1.1rem;
            line-height: 1.9;
            margin-bottom: 30px;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1.8s ease 1.5s forwards;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-button {
            display: inline-block;
            padding: 18px 45px;
            background: transparent;
            border: 2px solid #c8860d;
            color: #c8860d;
            text-decoration: none;
            letter-spacing: 2px;
            font-weight: 300;
            transition: all 0.4s ease;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1.8s ease 2.3s forwards;
            margin-top: 20px;
        }

        .cta-button:hover {
            background: #c8860d;
            color: #2c2c2c;
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(200, 134, 13, 0.3);
        }

        /* YouTubeå‹•ç”»ã®ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
        .video-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 40px auto;
            padding-bottom: 56.25%; /* 16:9ã®ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯” */
            height: 0;
            overflow: hidden;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1.8s ease 1.8s forwards;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 8px;
        }

        /* ã‚»ã‚¯ã‚·ãƒ§ãƒ³å…±é€šã‚¹ã‚¿ã‚¤ãƒ« */
        .section {
            padding: 100px 0;
            max-width: 1200px;
            margin: 0 auto;
            padding-left: 30px;
            padding-right: 30px;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 100;
            text-align: center;
            margin-bottom: 60px;
            letter-spacing: 3px;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 1px;
            background: #c8860d;
        }

        /* ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .experiences-intro {
            text-align: center;
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 80px;
            line-height: 1.8;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 80px;
        }

        .experiences-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 40px;
            margin-top: 80px;
        }

        .experience-card {
            position: relative;
            height: 500px;
            overflow: hidden;
            border-radius: 12px;
            transition: transform 0.4s ease;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .experience-card:hover {
            transform: translateY(-15px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .experience-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .experience-card:hover .experience-image {
            transform: scale(1.1);
        }

        .experience-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                to bottom,
                transparent 0%,
                rgba(0, 0, 0, 0.8) 100%
            );
            display: flex;
            align-items: flex-end;
            padding: 35px;
        }

        .experience-content {
            color: white;
        }

        .experience-title {
            font-size: 1.6rem;
            font-weight: 300;
            margin-bottom: 15px;
            letter-spacing: 1px;
        }

        .experience-description {
            font-size: 0.95rem;
            line-height: 1.7;
            opacity: 0.95;
        }

        /* çœŸå¿ƒã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .sincerity {
            background: linear-gradient(135deg, #f9f9f9, #ffffff);
        }

        .sincerity-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .sincerity-intro {
            font-size: 1.3rem;
            line-height: 1.9;
            color: #333;
            margin-bottom: 60px;
        }

        .sincerity-points {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 50px;
            margin-top: 60px;
            text-align: left;
        }

        .sincerity-point {
            padding: 30px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }

        .sincerity-point:hover {
            transform: translateY(-5px);
        }

        .sincerity-point h3 {
            font-size: 1.3rem;
            font-weight: 400;
            color: #c8860d;
            margin-bottom: 15px;
            letter-spacing: 1px;
        }

        .sincerity-point p {
            line-height: 1.7;
            color: #555;
        }

        /* ãŠå•ã„åˆã‚ã›ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .inquiry {
            background: #2c2c2c;
            color: white;
        }

        .inquiry .section-title {
            color: white;
        }

        .inquiry-intro {
            text-align: center;
            font-size: 1.1rem;
            margin-bottom: 60px;
            line-height: 1.8;
            opacity: 0.95;
        }

        .inquiry-form {
            max-width: 600px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 30px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 300;
            letter-spacing: 1px;
            color: #ddd;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 15px;
            border: 1px solid #555;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            font-size: 1rem;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #c8860d;
            background: rgba(255, 255, 255, 0.08);
        }

        .form-group textarea {
            height: 150px;
            resize: vertical;
        }

        .submit-button {
            background: #c8860d;
            color: #2c2c2c;
            border: none;
            padding: 18px 45px;
            font-size: 1rem;
            letter-spacing: 2px;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s ease;
            font-weight: 300;
        }

        .submit-button:hover {
            background: #a66f0a;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(200, 134, 13, 0.3);
        }

        .inquiry-process {
            margin-top: 60px;
            padding-top: 40px;
            border-top: 1px solid #555;
            text-align: center;
            opacity: 0.8;
        }

        .inquiry-process h3 {
            margin-bottom: 25px;
            font-weight: 300;
            font-size: 1.2rem;
        }

        .inquiry-process p {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }

            .language-toggle {
                display: none;
            }
            
            .hero {
                height: 110vh; /* ãƒ¢ãƒã‚¤ãƒ«ã§ã‚‚é«˜ã•ã‚’èª¿æ•´ */
                padding-top: 80px; /* ãƒ¢ãƒã‚¤ãƒ«ã§ã¯å°‘ã—å°ã•ã */
            }
            
            .hero-title {
                font-size: 2.2rem;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
            }
            
            .hero-description {
                font-size: 1rem;
                margin-bottom: 25px;
            }
            
            .video-container {
                max-width: 95%;
                margin: 30px auto;
            }
            
            .cta-button {
                padding: 15px 35px;
                font-size: 0.9rem;
                margin-top: 15px;
            }
            
            .hero-content {
                padding: 0 20px;
                min-height: calc(60vh - 80px); /* ãƒ¢ãƒã‚¤ãƒ«ã§ã®min-heightã‚’èª¿æ•´ */
                margin-top: 50px; /* ãƒ¢ãƒã‚¤ãƒ«ã§ã‚‚ä¸‹ã«é…ç½® */
            }
            
            .experiences-grid {
                grid-template-columns: 1fr;
            }
            
            .sincerity-points {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .section {
                padding: 60px 20px;
            }
        }

        /* ã‚»ã‚¯ã‚·ãƒ§ãƒ³é–“ã®ã‚¹ãƒšãƒ¼ã‚¹èª¿æ•´ */
        .main-section {
            scroll-margin-top: 100px; /* ãƒŠãƒ“ãƒãƒ¼ã®é«˜ã•åˆ†ã®ã‚ªãƒ•ã‚»ãƒƒãƒˆ */
        }

        /* ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¹ã‚¿ã‚¤ãƒ« */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            overflow-y: auto;
            animation: fadeIn 0.3s ease;
        }

        .modal.active {
            display: block;
        }

        .modal-close {
            position: fixed;
            top: 30px;
            right: 30px;
            font-size: 40px;
            color: white;
            cursor: pointer;
            z-index: 2001;
            transition: transform 0.3s ease;
        }

        .modal-close:hover {
            transform: rotate(90deg);
        }

        .modal-back {
            position: fixed;
            top: 30px;
            left: 30px;
            font-size: 40px;
            color: white;
            cursor: pointer;
            z-index: 2001;
            transition: transform 0.3s ease;
            display: none;
        }

        .modal-back.show {
            display: block;
        }

        .modal-back:hover {
            transform: translateX(-5px);
        }

        .modal-content {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 100px 30px 50px;
        }

        .modal-inner {
            max-width: 1000px;
            width: 100%;
        }

        .modal-title {
            font-size: 3rem;
            color: white;
            text-align: center;
            margin-bottom: 60px;
            letter-spacing: 3px;
            font-weight: 100;
        }

        .modal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .modal-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .modal-card:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-5px);
            border-color: #c8860d;
        }

        .modal-card h3 {
            color: white;
            font-size: 1.5rem;
            font-weight: 300;
            margin-bottom: 15px;
            letter-spacing: 2px;
        }

        .modal-card p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .detail-view {
            color: white;
            text-align: center;
        }

        .detail-image {
            width: 100%;
            max-width: 800px;
            height: 500px;
            object-fit: cover;
            border-radius: 15px;
            margin: 0 auto 40px;
            display: block;
        }

        .detail-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
            font-weight: 300;
            letter-spacing: 2px;
        }

        .detail-description {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .detail-price {
            font-size: 2rem;
            color: #c8860d;
            margin-bottom: 40px;
            font-weight: 300;
        }

        .detail-button {
            display: inline-block;
            padding: 18px 50px;
            background: #c8860d;
            color: #2c2c2c;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 300;
            letter-spacing: 2px;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
            font-size: 1rem;
        }

        .detail-button:hover {
            background: #a66f0a;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(200, 134, 13, 0.3);
        }

        .back-button {
            display: inline-block;
            margin-top: 30px;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            font-size: 1rem;
            transition: color 0.3s ease;
        }

        .back-button:hover {
            color: white;
        }

        /* ã‚«ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ€ãƒ« */
        .cart-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            overflow-y: auto;
            animation: fadeIn 0.3s ease;
        }

        .cart-modal.active {
            display: block;
        }

        .cart-items-list {
            margin-top: 30px;
        }

        .cart-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .cart-item:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            color: white;
            font-size: 1.2rem;
            font-weight: 300;
            margin-bottom: 5px;
        }

        .cart-item-category {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }

        .cart-item-price {
            color: #c8860d;
            font-size: 1.1rem;
            margin: 0 20px;
        }

        .cart-item-remove {
            background: rgba(255, 59, 48, 0.8);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .cart-item-remove:hover {
            background: rgba(255, 59, 48, 1);
        }

        .cart-empty {
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
            padding: 60px 20px;
            font-size: 1.1rem;
        }

        .cart-actions {
            margin-top: 40px;
            display: flex;
            gap: 20px;
            justify-content: center;
        }

        .cart-clear-btn {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 15px 40px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            letter-spacing: 1px;
        }

        .cart-clear-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .cart-checkout-btn {
            background: #c8860d;
            color: #2c2c2c;
            border: none;
            padding: 15px 40px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            letter-spacing: 1px;
            font-weight: 400;
        }

        .cart-checkout-btn:hover {
            background: #a66f0a;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(200, 134, 13, 0.3);
        }

        .cart-checkout-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .cart-checkout-btn:disabled:hover {
            transform: none;
            box-shadow: none;
        }
    </style>
</head>
<body>
    <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="#home" class="logo">çœŸå¿ƒã®ãŠã‚‚ã¦ãªã—</a>
            <div style="display: flex; align-items: center; gap: 30px;">
                <ul class="nav-menu">
                    <li><a href="#home">HOME</a></li>
                    <li><a href="#experiences">EXPERIENCES</a></li>
                    <li><a href="#sincerity">OUR SINCERITY</a></li>
                </ul>
                <div class="language-toggle">
                    <!-- ã‚«ãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³ -->
                    <div class="cart-icon" onclick="openCart()">
                        ğŸ›’
                        <span class="cart-badge hidden" id="cartBadge">0</span>
                    </div>
                    
                    <!-- è¨€èªã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ -->
                    <div class="language-selector">
                        <div class="language-current" onclick="toggleLanguageDropdown()">
                            ğŸŒ <span id="currentLanguage">æ—¥æœ¬èª</span> â–¼
                        </div>
                        <div class="language-dropdown" id="languageDropdown">
                            <div class="language-dropdown-item active" onclick="selectLanguage('æ—¥æœ¬èª', 'ja')">æ—¥æœ¬èª</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('English (US)', 'en-us')">English (US)</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('English (UK)', 'en-uk')">English (UK)</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('English (AU)', 'en-au')">English (AU)</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('English (Asia)', 'en-asia')">English (Asia)</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('FranÃ§ais', 'fr')">FranÃ§ais</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('Italiano', 'it')">Italiano</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('Deutsch', 'de')">Deutsch</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('Polski', 'pl')">Polski</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('EspaÃ±ol', 'es')">EspaÃ±ol</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('EspaÃ±ol (LATAM)', 'es-latam')">EspaÃ±ol (LATAM)</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('PortuguÃªs do Brasil', 'pt-br')">PortuguÃªs do Brasil</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('ç¹é«”ä¸­æ–‡', 'zh-tw')">ç¹é«”ä¸­æ–‡</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('ç®€ä½“ä¸­æ–‡', 'zh-cn')">ç®€ä½“ä¸­æ–‡</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('í•œêµ­ì–´', 'ko')">í•œêµ­ì–´</div>
                        </div>
                    </div>
                </div>
                <div class="hamburger" onclick="toggleMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </nav>

    <!-- ã‚µã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <div class="side-menu" id="sideMenu">
        <div class="side-menu-header">
            <span style="font-weight: 300; letter-spacing: 1px;">MENU</span>
            <span class="side-menu-close" onclick="toggleMenu()">&times;</span>
        </div>
        <ul class="side-menu-list">
            <li><a href="#home" onclick="toggleMenu()">HOME</a></li>
            <li><a href="#about" onclick="toggleMenu()">ABOUT USï¼ˆé‹å–¶è€…æƒ…å ±ï¼‰</a></li>
            <li><a href="#faq" onclick="toggleMenu()">FAQï¼ˆã‚ˆãã‚ã‚‹è³ªå•ï¼‰</a></li>
            <li><a href="#testimonials" onclick="toggleMenu()">TESTIMONIALSï¼ˆãŠå®¢æ§˜ã®å£°ï¼‰</a></li>
            <li><a href="#inquiry" onclick="toggleMenu()">INQUIRYï¼ˆãŠå•ã„åˆã‚ã›ï¼‰</a></li>
        </ul>
    </div>

    <!-- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ -->
    <div class="menu-overlay" id="menuOverlay" onclick="toggleMenu()"></div>

    <!-- ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ -->
    <div class="toast-notification" id="toastNotification">
        <span class="toast-icon">âœ“</span>
        <span class="toast-message"></span>
    </div>

    <!-- ãƒ›ãƒ¼ãƒ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section id="home" class="hero main-section">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1 class="hero-title">
                <span class="hero-title-line1">ã‚ãªãŸã®ãŸã‚ã®</span>
                <span class="hero-title-line2">çœŸå¿ƒã‚’è¾¼ã‚ãŸãŠã‚‚ã¦ãªã—</span>
            </h1>
            <p class="hero-subtitle">Your Personal Journey, Crafted with Sincerity</p>
            <p class="hero-description">
                ç§ãŸã¡ã¯ã€ç”»ä¸€çš„ãªãƒ„ã‚¢ãƒ¼ã§ã¯æº€è¶³ã§ããªã„ã€ã‚ãªãŸã€ã®ãŸã‚ã ã‘ã«å­˜åœ¨ã™ã‚‹ã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ»ãƒ„ã‚¢ãƒ¼ã®å°‚é–€å®¶ã§ã™ã€‚<br>
                ãŠæ±ºã¾ã‚Šã®ãƒ«ãƒ¼ãƒˆã¯ã‚ã‚Šã¾ã›ã‚“ã€‚æ—…ã®å§‹ã¾ã‚Šã¯ã€ã„ã¤ã‚‚ã‚ãªãŸã®å¿ƒã®ä¸­ã«ã‚ã‚Šã¾ã™ã€‚
            </p>
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/WLIv7HnZ_fE?si=SJtHAqNLxVT02vUK" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
        </div>
    </section>

    <!-- ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section id="experiences" class="section main-section">
        <h2 class="section-title">EXPERIENCES</h2>
        <div class="experiences-intro">
            ã“ã“ã«æ²è¼‰ã™ã‚‹ã®ã¯ã€éå»ã«ãŠå®¢æ§˜ã®ãŸã‚ã ã‘ã«å‰µã‚Šä¸Šã’ãŸæ—…ã®ã€ã»ã‚“ã®ä¸€ä¾‹ã§ã™ã€‚<br>
            ã‚ãªãŸã®æ—…ã¯ã€ã‚ãªãŸã®èˆˆå‘³ã‚„å¤¢ã‚’ãŠèã‹ã›ã„ãŸã ãã“ã¨ã‹ã‚‰å§‹ã¾ã‚Šã¾ã™ã€‚<br>
            èª°ä¸€äººã¨ã—ã¦åŒã˜æ—…ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
        </div>
            
        <div class="experiences-grid">
            <div class="experience-card" onclick="openCategory('tourism')">
                <img src="images/tourism.jpg" class="experience-image" alt="è¦³å…‰" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjQwMCIgaGVpZ2h0PSIzMDAiIGZpbGw9IiMyYzRjNTQiLz48L3N2Zz4='">
                <div class="experience-overlay">
                    <div class="experience-content">
                        <h3 class="experience-title">è¦³å…‰</h3>
                        <p class="experience-description">
                            å²é˜œã®ç¾ã—ã„è‡ªç„¶ã¨æ­´å²çš„ãªåæ‰€ã‚’å·¡ã‚‹ç‰¹åˆ¥ãªæ—…ã‚’ã”ææ¡ˆã—ã¾ã™ã€‚
                        </p>
                    </div>
                </div>
            </div>

            <div class="experience-card" onclick="openCategory('experience')">
                <img src="images/experience.jpg" class="experience-image" alt="ä½“é¨“" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjQwMCIgaGVpZ2h0PSIzMDAiIGZpbGw9IiM0YTMyMjgiLz48L3N2Zz4='">
                <div class="experience-overlay">
                    <div class="experience-content">
                        <h3 class="experience-title">ä½“é¨“</h3>
                        <p class="experience-description">
                            ä¼çµ±æ–‡åŒ–ã‚„ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’é€šã˜ã¦ã€å²é˜œã®é­…åŠ›ã‚’ä½“æ„Ÿã—ã¦ãã ã•ã„ã€‚
                        </p>
                    </div>
                </div>
            </div>

            <div class="experience-card" onclick="openCategory('gourmet')">
                <img src="images/gourmet.jpg" class="experience-image" alt="ã‚°ãƒ«ãƒ¡" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjQwMCIgaGVpZ2h0PSIzMDAiIGZpbGw9IiMyODQwMzYiLz48L3N2Zz4='">
                <div class="experience-overlay">
                    <div class="experience-content">
                        <h3 class="experience-title">ã‚°ãƒ«ãƒ¡</h3>
                        <p class="experience-description">
                            å²é˜œã®ç¾é£Ÿã‚’å ªèƒ½ã™ã‚‹ã€è´…æ²¢ãªã‚°ãƒ«ãƒ¡ä½“é¨“ã‚’ãŠæ¥½ã—ã¿ãã ã•ã„ã€‚
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- çœŸå¿ƒã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section id="sincerity" class="section sincerity main-section">
            <h2 class="section-title">OUR SINCERITY</h2>
            <div class="sincerity-content">
                <div class="sincerity-intro">
                    ç§ãŸã¡ã®è¨€ã†ã€ŒçœŸå¿ƒã€ã¨ã¯ã€å˜ãªã‚‹è¨€è‘‰ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br>
                    ã‚ãªãŸã¨ã®å‡ºä¼šã„ã‹ã‚‰æ—…ã®çµ‚ã‚ã‚Šã¾ã§ã€ã™ã¹ã¦ã®ç¬é–“ã«è¾¼ã‚ã‚‹ã€å…·ä½“çš„ãªè¡Œå‹•ã§ã™ã€‚
                </div>
                
                <div class="sincerity-points">
                    <div class="sincerity-point">
                        <h3>çœŸå¿ƒã§ã€Œè´ãã€</h3>
                        <p>
                            ãŠå®¢æ§˜ã®è¨€è‘‰ã¯ã‚‚ã¡ã‚ã‚“ã€ãã®èƒŒæ™¯ã«ã‚ã‚‹æƒ³ã„ã‚„æ–‡åŒ–ã¾ã§æ·±ãç†è§£ã—ã‚ˆã†ã¨åŠªã‚ã¾ã™ã€‚
                            è¡¨é¢çš„ãªã”è¦æœ›ã ã‘ã§ãªãã€å¿ƒã®å¥¥ã«ã‚ã‚‹æœ¬å½“ã®é¡˜ã„ã‚’è¦‹ã¤ã‘å‡ºã™ãŸã‚ã«ã€
                            ã˜ã£ãã‚Šã¨ãŠè©±ã‚’ãŠä¼ºã„ã—ã¾ã™ã€‚
                        </p>
                    </div>
                    
                    <div class="sincerity-point">
                        <h3>çœŸå¿ƒã§ã€Œå‰µã‚‹ã€</h3>
                        <p>
                            ãã®æƒ³ã„ã‚’å½¢ã«ã™ã‚‹ãŸã‚ã€ç§ãŸã¡ã®äººè„ˆã€çŸ¥è­˜ã€æ™‚é–“ã®ã™ã¹ã¦ã‚’æ³¨ãè¾¼ã¿ã€
                            å”¯ä¸€ç„¡äºŒã®æ—…ã‚’è¨­è¨ˆã—ã¾ã™ã€‚æ—¢å­˜ã®ãƒ—ãƒ©ãƒ³ã«å½“ã¦ã¯ã‚ã‚‹ã®ã§ã¯ãªãã€
                            ã‚ãªãŸã®ãŸã‚ã ã‘ã®ç‰¹åˆ¥ãªä½“é¨“ã‚’ä¸€ã‹ã‚‰å‰µã‚Šä¸Šã’ã¾ã™ã€‚
                        </p>
                    </div>
                    
                    <div class="sincerity-point">
                        <h3>çœŸå¿ƒã§ã€Œå¯„ã‚Šæ·»ã†ã€</h3>
                        <p>
                            æ—…ã®æœ€ä¸­ã€äºˆæœŸã›ã¬å‡ºæ¥äº‹ã‚„æ–°ãŸãªã”è¦æœ›ã«ã‚‚ã€å®¶æ—ã®ã‚ˆã†ã«è¦ªèº«ã«å¯¾å¿œã—ã€
                            æœ€é«˜ã®æ€ã„å‡ºä½œã‚Šã‚’æ”¯ãˆã¾ã™ã€‚ã‚ãªãŸã®æ—…ãŒã€äººç”Ÿã®å®ç‰©ã¨ãªã‚‹ã‚ˆã†ã€
                            æœ€å¾Œã¾ã§è²¬ä»»ã‚’æŒã£ã¦ãŠæ‰‹ä¼ã„ã„ãŸã—ã¾ã™ã€‚
                        </p>
                    </div>
                </div>
            </div>
        </section>

    <!-- ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="modal" class="modal">
        <span class="modal-back" id="modalBack" onclick="goBack()">â†</span>
        <span class="modal-close" onclick="closeModal()">&times;</span>
        <div class="modal-content">
            <div class="modal-inner" id="modalInner">
                <!-- JavaScriptã§å‹•çš„ã«å†…å®¹ã‚’å¤‰æ›´ -->
            </div>
        </div>
    </div>

    <!-- ã‚«ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="cartModal" class="cart-modal">
        <span class="modal-close" onclick="closeCart()">&times;</span>
        <div class="modal-content">
            <div class="modal-inner">
                <h2 class="modal-title">ã‚«ãƒ¼ãƒˆ</h2>
                <div id="cartItemsList" class="cart-items-list">
                    <!-- ã‚«ãƒ¼ãƒˆã‚¢ã‚¤ãƒ†ãƒ ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
                </div>
                <div class="cart-actions" id="cartActions">
                    <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // ãƒŠãƒ“ãƒãƒ¼ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«åŠ¹æœ
        window.addEventListener('scroll', function() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å±¥æ­´ç®¡ç†
        let navigationHistory = [];

        // ã‚«ãƒ¼ãƒˆç®¡ç†
        let cart = [];

        // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰ã‚«ãƒ¼ãƒˆã‚’èª­ã¿è¾¼ã‚€
        function loadCart() {
            const savedCart = localStorage.getItem('tourCart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                updateCartBadge();
            }
        }

        // ã‚«ãƒ¼ãƒˆã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
        function saveCart() {
            localStorage.setItem('tourCart', JSON.stringify(cart));
            updateCartBadge();
        }

        // ã‚«ãƒ¼ãƒˆãƒãƒƒã‚¸ã‚’æ›´æ–°
        function updateCartBadge() {
            const badge = document.getElementById('cartBadge');
            if (cart.length > 0) {
                badge.textContent = cart.length;
                badge.classList.remove('hidden');
            } else {
                badge.classList.add('hidden');
            }
        }

        // ã‚«ãƒ¼ãƒˆãƒãƒƒã‚¸ã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãã§æ›´æ–°
        function updateCartBadgeWithAnimation() {
            const badge = document.getElementById('cartBadge');
            if (cart.length > 0) {
                badge.textContent = cart.length;
                badge.classList.remove('hidden');
                // ãƒãƒƒãƒ—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
                badge.classList.remove('pop');
                void badge.offsetWidth; // ãƒªãƒ•ãƒ­ãƒ¼å¼·åˆ¶
                badge.classList.add('pop');
            } else {
                badge.classList.add('hidden');
            }
        }

        // ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ã‚’è¡¨ç¤º
        function showToast(message, duration = 3000) {
            const toast = document.getElementById('toastNotification');
            const messageEl = toast.querySelector('.toast-message');
            
            messageEl.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, duration);
        }

        // ã‚«ãƒ¼ãƒˆã«ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ 
        function addToCart(category, subIndex, itemIndex) {
            const item = tourData[category].subcategories[subIndex].items[itemIndex];
            const cartItem = {
                category: category,
                categoryTitle: tourData[category].title,
                subCategory: tourData[category].subcategories[subIndex].name,
                subIndex: subIndex,
                itemIndex: itemIndex,
                name: item.name,
                price: item.price,
                description: item.description,
                image: item.image
            };
            
            // æ—¢ã«ã‚«ãƒ¼ãƒˆã«ã‚ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
            const exists = cart.some(item => 
                item.category === category && 
                item.subIndex === subIndex && 
                item.itemIndex === itemIndex
            );
            
            if (!exists) {
                cart.push(cartItem);
                saveCart();
                
                // ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ã‚’è¡¨ç¤º
                showToast(`ã€Œ${item.name}ã€ã‚’ã‚«ãƒ¼ãƒˆã«è¿½åŠ ã—ã¾ã—ãŸ`);
                
                // ã‚«ãƒ¼ãƒˆãƒãƒƒã‚¸ã‚’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãã§æ›´æ–°
                updateCartBadgeWithAnimation();
                
                // ãƒœã‚¿ãƒ³ã‚’ä¸€æ™‚çš„ã«ã€Œè¿½åŠ æ¸ˆã¿ã€çŠ¶æ…‹ã«ã™ã‚‹
                const buttonId = `cart-btn-${category}-${subIndex}-${itemIndex}`;
                const button = document.getElementById(buttonId);
                if (button) {
                    const originalHTML = button.innerHTML;
                    button.innerHTML = 'âœ“ è¿½åŠ æ¸ˆã¿';
                    button.style.background = 'rgba(76, 175, 80, 0.3)';
                    button.style.borderColor = '#4CAF50';
                    button.style.color = '#4CAF50';
                    button.disabled = true;
                    
                    setTimeout(() => {
                        button.innerHTML = originalHTML;
                        button.style.background = 'rgba(255, 255, 255, 0.1)';
                        button.style.borderColor = '#c8860d';
                        button.style.color = '#fff';
                        button.disabled = false;
                    }, 2000);
                }
            } else {
                // æ—¢ã«è¿½åŠ æ¸ˆã¿ã®å ´åˆ
                showToast('ã“ã®ã‚¢ã‚¤ãƒ†ãƒ ã¯æ—¢ã«ã‚«ãƒ¼ãƒˆã«å…¥ã£ã¦ã„ã¾ã™');
            }
        }

        // ã‚«ãƒ¼ãƒˆã«è¿½åŠ ã—ã¦ã™ãã«ç”³ã—è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ ã‚’é–‹ã
        function addToCartAndApply(category, subIndex, itemIndex) {
            const item = tourData[category].subcategories[subIndex].items[itemIndex];
            const cartItem = {
                category: category,
                categoryTitle: tourData[category].title,
                subCategory: tourData[category].subcategories[subIndex].name,
                subIndex: subIndex,
                itemIndex: itemIndex,
                name: item.name,
                price: item.price,
                description: item.description,
                image: item.image
            };
            
            // æ—¢ã«ã‚«ãƒ¼ãƒˆã«ã‚ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
            const exists = cart.some(item => 
                item.category === category && 
                item.subIndex === subIndex && 
                item.itemIndex === itemIndex
            );
            
            if (!exists) {
                cart.push(cartItem);
                saveCart();
            }
            
            // è©³ç´°ç”»é¢ã®å±¥æ­´ã‚’ä¿æŒã—ãŸã¾ã¾ç”³ã—è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤º
            navigationHistory.push('detail-form');
            showInquiryFormWithCart();
        }

        // ã‚«ãƒ¼ãƒˆã‹ã‚‰ã‚¢ã‚¤ãƒ†ãƒ ã‚’å‰Šé™¤
        function removeFromCart(index) {
            cart.splice(index, 1);
            saveCart();
            renderCart();
        }

        // ã‚«ãƒ¼ãƒˆã‚’ç©ºã«ã™ã‚‹
        function clearCart() {
            if (confirm('ã‚«ãƒ¼ãƒˆã‚’ç©ºã«ã—ã¾ã™ã‹?')) {
                cart = [];
                saveCart();
                renderCart();
            }
        }

        // ã‚«ãƒ¼ãƒˆã‚’é–‹ã
        function openCart() {
            renderCart();
            document.getElementById('cartModal').classList.add('active');
        }

        // ã‚«ãƒ¼ãƒˆã‚’é–‰ã˜ã‚‹
        function closeCart() {
            document.getElementById('cartModal').classList.remove('active');
        }

        // ã‚«ãƒ¼ãƒˆã®å†…å®¹ã‚’è¡¨ç¤º
        function renderCart() {
            const cartItemsList = document.getElementById('cartItemsList');
            const cartActions = document.getElementById('cartActions');
            
            if (cart.length === 0) {
                cartItemsList.innerHTML = '<div class="cart-empty">ã‚«ãƒ¼ãƒˆã¯ç©ºã§ã™</div>';
                cartActions.innerHTML = '';
                return;
            }
            
            let html = '';
            cart.forEach((item, index) => {
                html += `
                    <div class="cart-item">
                        <div class="cart-item-info">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-category">${item.categoryTitle} > ${item.subCategory}</div>
                        </div>
                        <div class="cart-item-price">${item.price}</div>
                        <button class="cart-item-remove" onclick="removeFromCart(${index})">å‰Šé™¤</button>
                    </div>
                `;
            });
            
            cartItemsList.innerHTML = html;
            
            cartActions.innerHTML = `
                <button class="cart-clear-btn" onclick="clearCart()">ã‚«ãƒ¼ãƒˆã‚’ç©ºã«ã™ã‚‹</button>
                <button class="cart-checkout-btn" onclick="checkoutCart()">ã¾ã¨ã‚ã¦ç”³ã—è¾¼ã‚€</button>
            `;
        }

        // ã‚«ãƒ¼ãƒˆã®å†…å®¹ã§ç”³ã—è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ ã‚’é–‹ã
        function checkoutCart() {
            closeCart();
            showInquiryFormWithCart();
        }

        // è¨€èªãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã®é–‹é–‰
        function toggleLanguageDropdown() {
            const dropdown = document.getElementById('languageDropdown');
            dropdown.classList.toggle('active');
        }

        // è¨€èªé¸æŠ
        function selectLanguage(languageName, languageCode) {
            document.getElementById('currentLanguage').textContent = languageName;
            
            // ã™ã¹ã¦ã®ã‚¢ã‚¤ãƒ†ãƒ ã‹ã‚‰activeã‚’å‰Šé™¤
            document.querySelectorAll('.language-dropdown-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // é¸æŠã—ãŸã‚¢ã‚¤ãƒ†ãƒ ã«activeã‚’è¿½åŠ 
            event.target.classList.add('active');
            
            // ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’é–‰ã˜ã‚‹
            document.getElementById('languageDropdown').classList.remove('active');
            
            console.log('Language switched to:', languageCode);
            // TODO: å°†æ¥çš„ã«è¨€èªåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ã‚’å®Ÿè£…
        }

        // ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³å¤–ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹
        document.addEventListener('click', function(e) {
            const languageSelector = document.querySelector('.language-selector');
            const dropdown = document.getElementById('languageDropdown');
            
            if (languageSelector && !languageSelector.contains(e.target)) {
                dropdown.classList.remove('active');
            }
        });

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ã‚«ãƒ¼ãƒˆã‚’èª­ã¿è¾¼ã‚€
        window.addEventListener('load', function() {
            loadCart();
        });

        // ãƒ‡ãƒ¼ã‚¿æ§‹é€ 
        const tourData = {
            tourism: {
                title: 'è¦³å…‰',
                subcategories: [
                    {
                        name: 'è‡ªç„¶',
                        items: [
                            { name: 'ç©‚é«˜å²³', image: 'images/hotaka.jpg', price: 'Â¥30,000ã€œ', description: 'åŒ—ã‚¢ãƒ«ãƒ—ã‚¹ã®åå³°ã€ç©‚é«˜å²³ã‚’å·¡ã‚‹ç‰¹åˆ¥ãªãƒ„ã‚¢ãƒ¼' },
                            { name: 'ä¼Šå¹å±±', image: 'images/ibuki.jpg', price: 'Â¥20,000ã€œ', description: 'æ¨™é«˜1,377mã®ä¼Šå¹å±±ç™»å±±ãƒ„ã‚¢ãƒ¼' },
                            { name: 'æ´çªŸ', image: 'images/cave.jpg', price: 'Â¥15,000ã€œ', description: 'ç¥ç§˜çš„ãªæ´çªŸæ¢æ¤œ' },
                            { name: 'èŠ±ç«å¤§ä¼š', image: 'images/fireworks-event.jpg', price: 'Â¥25,000ã€œ', description: 'å²é˜œã®å¤ã‚’å½©ã‚‹å£®å¤§ãªèŠ±ç«å¤§ä¼š' }
                        ]
                    },
                    {
                        name: 'æ­´å²ãƒ»æ–‡åŒ–',
                        items: [
                            { name: 'é‡‘è¯å±±', image: 'images/kinka.jpg', price: 'Â¥18,000ã€œ', description: 'å²é˜œåŸã®ã‚ã‚‹é‡‘è¯å±±ãƒ„ã‚¢ãƒ¼' },
                            { name: 'é–¢ãƒ¶åŸ', image: 'images/sekigahara.jpg', price: 'Â¥22,000ã€œ', description: 'æ­´å²ã®èˆå°ã€é–¢ãƒ¶åŸã‚’è¨ªã­ã‚‹' },
                            { name: 'ç¥ç¤¾', image: 'images/shrine.jpg', price: 'Â¥16,000ã€œ', description: 'æ­´å²ã‚ã‚‹ç¥ç¤¾å·¡ã‚Š' },
                            { name: 'éµœé£¼', image: 'images/ukai.jpg', price: 'Â¥28,000ã€œ', description: 'é•·è‰¯å·ã®ä¼çµ±çš„ãªéµœé£¼è¦³è¦§' }
                        ]
                    }
                ]
            },
            experience: {
                title: 'ä½“é¨“',
                subcategories: [
                    {
                        name: 'ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£',
                        items: [
                            { name: 'é‡‘è¯å±±ãƒˆãƒ¬ãƒƒã‚­ãƒ³ã‚°', image: 'images/hiking.jpg', price: 'Â¥15,000ã€œ', description: 'é‡‘è¯å±±ã‚’ç™»ã‚‹ãƒˆãƒ¬ãƒƒã‚­ãƒ³ã‚°ä½“é¨“' },
                            { name: 'é¦¬ç± å®¿ãƒˆãƒ¬ãƒƒã‚­ãƒ³ã‚°', image: 'images/magome.jpg', price: 'Â¥18,000ã€œ', description: 'ä¸­å±±é“ã®å®¿å ´ç”ºã€é¦¬ç± å®¿ã‚’å·¡ã‚‹ãƒˆãƒ¬ãƒƒã‚­ãƒ³ã‚°' },
                            { name: 'ãƒ©ãƒ•ãƒ†ã‚£ãƒ³ã‚°', image: 'images/rafting.jpg', price: 'Â¥14,000ã€œ', description: 'æ¸…æµã§ã‚¹ãƒªãƒªãƒ³ã‚°ãªãƒ©ãƒ•ãƒ†ã‚£ãƒ³ã‚°ä½“é¨“' },
                            { name: 'ã‚­ãƒ£ãƒ‹ã‚ªãƒ‹ãƒ³ã‚°', image: 'images/canyoning.jpg', price: 'Â¥16,000ã€œ', description: 'æ¸“è°·ã‚’ä¸‹ã‚‹ã‚¨ã‚­ã‚µã‚¤ãƒ†ã‚£ãƒ³ã‚°ãªå†’é™º' }
                        ]
                    },
                    {
                        name: 'ä¼çµ±',
                        items: [
                            { name: 'èŒ¶é“', image: 'images/tea.jpg', price: 'Â¥12,000ã€œ', description: 'æœ¬æ ¼çš„ãªèŒ¶é“ä½“é¨“' },
                            { name: 'åº§ç¦…', image: 'images/zazen.jpg', price: 'Â¥10,000ã€œ', description: 'é™å¯‚ã®ä¸­ã§ã®åº§ç¦…ä½“é¨“' },
                            { name: 'åˆ€é›å†¶', image: 'images/katana.jpg', price: 'Â¥35,000ã€œ', description: 'ä¼çµ±çš„ãªåˆ€é›å†¶è¦‹å­¦ãƒ»ä½“é¨“' },
                            { name: 'èŠ±ç«ä½œã‚Š', image: 'images/fireworks.jpg', price: 'Â¥20,000ã€œ', description: 'è·äººã¨ä¸€ç·’ã«èŠ±ç«ä½œã‚Š' },
                            { name: 'å‚˜ãƒ»æç¯ä½œã‚Š', image: 'images/lantern.jpg', price: 'Â¥15,000ã€œ', description: 'ä¼çµ±å·¥èŠ¸ã®å’Œå‚˜ãƒ»æç¯ä½œã‚Š' },
                            { name: 'å±‹å½¢èˆ¹', image: 'images/yakatabune.jpg', price: 'Â¥25,000ã€œ', description: 'å„ªé›…ãªå±‹å½¢èˆ¹ä½“é¨“' }
                        ]
                    },
                    {
                        name: 'æ—¬',
                        items: [
                            { name: 'ã‚­ãƒã‚³ç‹©ã‚Š', image: 'images/mushroom.jpg', price: 'Â¥10,000ã€œ', description: 'ç§‹ã®ã‚­ãƒã‚³ç‹©ã‚Šä½“é¨“' },
                            { name: 'ç”°æ¤ãˆ', image: 'images/rice-planting.jpg', price: 'Â¥12,000ã€œ', description: 'æ—¥æœ¬ã®åŸé¢¨æ™¯ã€ç”°æ¤ãˆä½“é¨“' },
                            { name: 'ãƒ•ãƒ«ãƒ¼ãƒ„ç‹©ã‚Š', image: 'images/fruit.jpg', price: 'Â¥10,000ã€œ', description: 'å­£ç¯€ã®ãƒ•ãƒ«ãƒ¼ãƒ„ç‹©ã‚Š' }
                        ]
                    },
                    {
                        name: 'é…’',
                        items: [
                            { name: 'ã‚¸ãƒ£ãƒ‘ãƒ‹ãƒ¼ã‚ºã‚¦ã‚£ã‚¹ã‚­ãƒ¼è’¸ç•™æ‰€è¦‹å­¦', image: 'images/whiskey-distillery.jpg', price: 'Â¥20,000ã€œ', description: 'ä¸–ç•Œçš„ã«è©•ä¾¡ã•ã‚Œã‚‹æ—¥æœ¬ã®ã‚¦ã‚£ã‚¹ã‚­ãƒ¼è’¸ç•™æ‰€ã‚’è¨ªå•' },
                            { name: 'é…’é€ è¦‹å­¦', image: 'images/sake-brewery.jpg', price: 'Â¥15,000ã€œ', description: 'ä¼çµ±çš„ãªæ—¥æœ¬é…’é€ ã‚Šã®ç¾å ´ã‚’ä½“é¨“' }
                        ]
                    }
                ]
            },
            gourmet: {
                title: 'ã‚°ãƒ«ãƒ¡',
                subcategories: [
                    {
                        name: 'è‚‰',
                        items: [
                            { name: 'ç„¼è‚‰', image: 'images/yakiniku.jpg', price: 'Â¥15,000ã€œ', description: 'æœ€é«˜ç´šé£›é¨¨ç‰›ã®ç„¼è‚‰' },
                            { name: 'ã™ãç„¼ã', image: 'images/sukiyaki.jpg', price: 'Â¥18,000ã€œ', description: 'é£›é¨¨ç‰›ã®ã™ãç„¼ã' },
                            { name: 'ã—ã‚ƒã¶ã—ã‚ƒã¶', image: 'images/shabu-shabu.jpg', price: 'Â¥17,000ã€œ', description: 'æ¥µä¸Šé£›é¨¨ç‰›ã®ã—ã‚ƒã¶ã—ã‚ƒã¶' },
                            { name: 'ã‚¹ãƒ†ãƒ¼ã‚­', image: 'images/steak.jpg', price: 'Â¥22,000ã€œ', description: 'A5ãƒ©ãƒ³ã‚¯é£›é¨¨ç‰›ã‚¹ãƒ†ãƒ¼ã‚­' },
                            { name: 'ç„¼é³¥', image: 'images/yakitori.jpg', price: 'Â¥12,000ã€œ', description: 'åœ°é¶ã‚’ä½¿ã£ãŸæœ¬æ ¼ç„¼é³¥' }
                        ]
                    },
                    {
                        name: 'é­š',
                        items: [
                            { name: 'å¯¿å¸', image: 'images/sushi.jpg', price: 'Â¥20,000ã€œ', description: 'è·äººãŒæ¡ã‚‹æ¥µä¸Šå¯¿å¸' },
                            { name: 'é®æ–™ç†', image: 'images/ayu.jpg', price: 'Â¥18,000ã€œ', description: 'æ¸…æµã§è‚²ã£ãŸé®æ–™ç†' },
                            { name: 'ã†ãªã', image: 'images/unagi.jpg', price: 'Â¥16,000ã€œ', description: 'ä¼çµ±ã®ã‚¿ãƒ¬ã§ç„¼ãä¸Šã’ã‚‹æ¥µä¸Šã†ãªã' },
                            { name: 'å’Œé£Ÿ', image: 'images/washoku.jpg', price: 'Â¥15,000ã€œ', description: 'å­£ç¯€ã®é£Ÿæã‚’ä½¿ã£ãŸæœ¬æ ¼å’Œé£Ÿ' }
                        ]
                    },
                    {
                        name: 'æ‡çŸ³æ–™ç†',
                        items: [
                            { name: 'æ‡çŸ³æ–™ç†', image: 'images/kaiseki.jpg', price: 'Â¥25,000ã€œ', description: 'å››å­£ã‚’æ„Ÿã˜ã‚‹æœ¬æ ¼æ‡çŸ³' }
                        ]
                    }
                ]
            }
        };

        // ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’é–‹ã
        function openCategory(category) {
            const data = tourData[category];
            navigationHistory = ['category', category];
            
            let html = `<h2 class="modal-title">${data.title}</h2>`;
            html += '<div class="modal-grid">';
            
            data.subcategories.forEach((sub, index) => {
                html += `
                    <div class="modal-card" onclick="openSubcategory('${category}', ${index})">
                        <h3>${sub.name}</h3>
                        <p>${sub.items.length}ã¤ã®ä½“é¨“</p>
                    </div>
                `;
            });
            
            html += '</div>';
            document.getElementById('modalInner').innerHTML = html;
            document.getElementById('modal').classList.add('active');
            document.getElementById('modalBack').classList.add('show');
        }

        // ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’é–‹ã
        function openSubcategory(category, subIndex) {
            const data = tourData[category];
            const sub = data.subcategories[subIndex];
            navigationHistory = ['subcategory', category, subIndex];
            
            let html = `<h2 class="modal-title">${sub.name}</h2>`;
            html += '<div class="modal-grid">';
            
            sub.items.forEach((item, itemIndex) => {
                html += `
                    <div class="modal-card" onclick="openDetail('${category}', ${subIndex}, ${itemIndex})">
                        <h3>${item.name}</h3>
                        <p>${item.price}</p>
                    </div>
                `;
            });
            
            html += '</div>';
            
            document.getElementById('modalInner').innerHTML = html;
            document.getElementById('modalBack').classList.add('show');
        }

        // è©³ç´°ã‚’é–‹ã
        function openDetail(category, subIndex, itemIndex) {
            const item = tourData[category].subcategories[subIndex].items[itemIndex];
            navigationHistory = ['detail', category, subIndex, itemIndex];
            
            // ãƒœã‚¿ãƒ³ã«ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªIDã‚’ä»˜ä¸
            const buttonId = `cart-btn-${category}-${subIndex}-${itemIndex}`;
            
            let html = `
                <div class="detail-view">
                    <img src="${item.image}" class="detail-image" alt="${item.name}" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjUwMCIgdmlld0JveD0iMCAwIDgwMCA1MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjgwMCIgaGVpZ2h0PSI1MDAiIGZpbGw9IiMzYTNhM2EiLz48L3N2Zz4='">
                    <h2 class="detail-title">${item.name}</h2>
                    <p class="detail-description">${item.description}</p>
                    <div class="detail-price">${item.price}</div>
                    <div style="display: flex; gap: 15px; justify-content: center; margin-top: 30px;">
                        <button id="${buttonId}" class="detail-button" style="background: rgba(255, 255, 255, 0.1); border: 1px solid #c8860d; color: #fff;" onclick="addToCart('${category}', ${subIndex}, ${itemIndex})">ğŸ›’ ã‚«ãƒ¼ãƒˆã«è¿½åŠ </button>
                        <button class="detail-button" onclick="addToCartAndApply('${category}', ${subIndex}, ${itemIndex})">ä»Šã™ãç”³ã—è¾¼ã‚€</button>
                    </div>
                </div>
            `;
            
            document.getElementById('modalInner').innerHTML = html;
            document.getElementById('modalBack').classList.add('show');
        }

        // ç”³ã—è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤º
        function showInquiryForm() {
            navigationHistory.push('form');
            
            // ç¾åœ¨ã®è©³ç´°ç”»é¢ã®ã‚¢ã‚¤ãƒ†ãƒ æƒ…å ±ã‚’å–å¾—
            const detailHistory = navigationHistory[navigationHistory.length - 2];
            let selectedItemsHtml = '';
            
            if (detailHistory && detailHistory[0] === 'detail') {
                const [_, category, subIndex, itemIndex] = detailHistory;
                const item = tourData[category].subcategories[subIndex].items[itemIndex];
                selectedItemsHtml = `
                    <div class="form-group">
                        <label>é¸æŠã•ã‚ŒãŸä½“é¨“</label>
                        <div style="background: rgba(200, 134, 13, 0.1); border: 1px solid #c8860d; border-radius: 5px; padding: 15px; margin-top: 10px;">
                            <div style="font-size: 1.1rem; font-weight: 400; margin-bottom: 5px;">${item.name}</div>
                            <div style="color: rgba(255, 255, 255, 0.7); font-size: 0.9rem;">${tourData[category].title} > ${tourData[category].subcategories[subIndex].name}</div>
                            <div style="color: #c8860d; font-size: 1rem; margin-top: 8px;">${item.price}</div>
                        </div>
                    </div>
                `;
            }
            
            let html = `
                <div class="detail-view">
                    <h2 class="detail-title">ç”³ã—è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ </h2>
                    <div style="max-width: 600px; margin: 0 auto; text-align: left;">
                        ${selectedItemsHtml}
                        <div class="form-group">
                            <label>ãŠåå‰</label>
                            <input type="text" placeholder="å±±ç”° å¤ªéƒ">
                        </div>
                        <div class="form-group">
                            <label>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
                            <input type="email" placeholder="example@email.com">
                        </div>
                        <div class="form-group">
                            <label>ãŠä½ã¾ã„ã®å›½</label>
                            <input type="text" placeholder="æ—¥æœ¬">
                        </div>
                        <div class="form-group">
                            <label>å¸Œæœ›æ—¥ã‚„æ™‚é–“å¸¯</label>
                            <textarea placeholder="2024å¹´3æœˆ15æ—¥ åˆå‰10æ™‚ã€œ"></textarea>
                        </div>
                        <div class="form-group">
                            <label>äººæ•°ï¼ˆå¤§äººï¼‰</label>
                            <input type="number" placeholder="2" min="1">
                        </div>
                        <div class="form-group">
                            <label>äººæ•°ï¼ˆå­ä¾›ï¼‰</label>
                            <input type="number" placeholder="0" min="0">
                        </div>
                        <div class="form-group">
                            <label>æ€§åˆ¥</label>
                            <input type="text" placeholder="ç”·æ€§ãƒ»å¥³æ€§ãƒ»ãã®ä»–">
                        </div>
                        <div class="form-group">
                            <label>ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼ã‚„å®—æ•™çš„ãªåˆ¶é™</label>
                            <textarea placeholder="ç‰¹ã«ãªã—"></textarea>
                        </div>
                        <button class="detail-button" onclick="submitForm()" style="width: 100%; margin-top: 20px;">é€ä¿¡ã™ã‚‹ï¼ˆUIã®ã¿ï¼‰</button>
                    </div>
                </div>
            `;
            
            document.getElementById('modalInner').innerHTML = html;
            document.getElementById('modalBack').classList.add('show');
        }

        // ã‚«ãƒ¼ãƒˆã®å†…å®¹ã§ç”³ã—è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤º
        function showInquiryFormWithCart() {
            // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å±¥æ­´ãŒæ—¢ã«ã‚ã‚‹å ´åˆï¼ˆè©³ç´°ç”»é¢ã‹ã‚‰é·ç§»ï¼‰ã¯ä¿æŒ
            // ãªã„å ´åˆï¼ˆã‚«ãƒ¼ãƒˆã‹ã‚‰é·ç§»ï¼‰ã¯æ–°è¦ä½œæˆ
            const lastItem = navigationHistory[navigationHistory.length - 1];
            if (navigationHistory.length === 0 || lastItem !== 'detail-form') {
                navigationHistory = ['cart-form'];
            }
            
            // ã‚«ãƒ¼ãƒˆå†…ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¦‹ã‚„ã™ãè¡¨ç¤º
            let selectedItemsHtml = `
                <div class="form-group">
                    <label>é¸æŠã•ã‚ŒãŸä½“é¨“ (${cart.length}ä»¶)</label>
                    <div style="background: rgba(200, 134, 13, 0.1); border: 1px solid #c8860d; border-radius: 5px; padding: 15px; margin-top: 10px; max-height: 300px; overflow-y: auto;">
            `;
            
            cart.forEach((item, index) => {
                selectedItemsHtml += `
                    <div style="padding: 12px; ${index > 0 ? 'border-top: 1px solid rgba(255, 255, 255, 0.2); margin-top: 12px; padding-top: 12px;' : ''}">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div style="flex: 1;">
                                <div style="font-size: 1.05rem; font-weight: 400; margin-bottom: 5px;">${item.name}</div>
                                <div style="color: rgba(255, 255, 255, 0.7); font-size: 0.85rem;">${item.categoryTitle} > ${item.subCategory}</div>
                            </div>
                            <div style="color: #c8860d; font-size: 0.95rem; margin-left: 15px; white-space: nowrap;">${item.price}</div>
                        </div>
                    </div>
                `;
            });
            
            selectedItemsHtml += `
                    </div>
                </div>
            `;
            
            let html = `
                <div class="detail-view">
                    <h2 class="detail-title">ç”³ã—è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ </h2>
                    <div style="max-width: 600px; margin: 0 auto; text-align: left;">
                        ${selectedItemsHtml}
                        <div class="form-group">
                            <label>ãŠåå‰</label>
                            <input type="text" placeholder="å±±ç”° å¤ªéƒ">
                        </div>
                        <div class="form-group">
                            <label>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
                            <input type="email" placeholder="example@email.com">
                        </div>
                        <div class="form-group">
                            <label>ãŠä½ã¾ã„ã®å›½</label>
                            <input type="text" placeholder="æ—¥æœ¬">
                        </div>
                        <div class="form-group">
                            <label>å¸Œæœ›æ—¥ã‚„æ™‚é–“å¸¯</label>
                            <textarea placeholder="2024å¹´3æœˆ15æ—¥ åˆå‰10æ™‚ã€œ&#10;â€»è¤‡æ•°ã®ä½“é¨“ã‚’é¸æŠã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€ãã‚Œãã‚Œã®å¸Œæœ›æ—¥æ™‚ã‚’ã”è¨˜å…¥ãã ã•ã„"></textarea>
                        </div>
                        <div class="form-group">
                            <label>äººæ•°ï¼ˆå¤§äººï¼‰</label>
                            <input type="number" placeholder="2" min="1">
                        </div>
                        <div class="form-group">
                            <label>äººæ•°ï¼ˆå­ä¾›ï¼‰</label>
                            <input type="number" placeholder="0" min="0">
                        </div>
                        <div class="form-group">
                            <label>æ€§åˆ¥</label>
                            <input type="text" placeholder="ç”·æ€§ãƒ»å¥³æ€§ãƒ»ãã®ä»–">
                        </div>
                        <div class="form-group">
                            <label>ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼ã‚„å®—æ•™çš„ãªåˆ¶é™</label>
                            <textarea placeholder="ç‰¹ã«ãªã—"></textarea>
                        </div>
                        <div class="form-group">
                            <label>ãã®ä»–ã®ã”è¦æœ›</label>
                            <textarea placeholder="ä½“é¨“ã®é †ç•ªã‚„æ™‚é–“é…åˆ†ãªã©ã€ã”è¦æœ›ãŒã‚ã‚Œã°ãŠæ›¸ããã ã•ã„" style="min-height: 100px;"></textarea>
                        </div>
                        <button class="detail-button" onclick="submitForm()" style="width: 100%; margin-top: 20px;">é€ä¿¡ã™ã‚‹ï¼ˆUIã®ã¿ï¼‰</button>
                    </div>
                </div>
            `;
            
            document.getElementById('modalInner').innerHTML = html;
            document.getElementById('modal').classList.add('active');
            document.getElementById('modalBack').classList.add('show');
        }

        // æˆ»ã‚‹ãƒœã‚¿ãƒ³ã®å‡¦ç†
        function goBack() {
            const currentPage = navigationHistory[0];
            
            if (currentPage === 'cart-form') {
                // ã‚«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ã‚«ãƒ¼ãƒˆã«æˆ»ã‚‹
                closeModal();
                openCart();
            } else if (currentPage === 'detail-form') {
                // è©³ç´°ç”»é¢ã‹ã‚‰ã®ç”³ã—è¾¼ã¿ãƒ•ã‚©ãƒ¼ãƒ ã®å ´åˆã€è©³ç´°ç”»é¢ã«æˆ»ã‚‹
                navigationHistory.pop();
                const [_, category, subIndex, itemIndex] = navigationHistory;
                openDetail(category, subIndex, itemIndex);
            } else if (currentPage === 'form') {
                // ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰è©³ç´°ã«æˆ»ã‚‹
                navigationHistory.pop();
                const [_, category, subIndex, itemIndex] = navigationHistory;
                openDetail(category, subIndex, itemIndex);
            } else if (currentPage === 'detail') {
                // è©³ç´°ã‹ã‚‰ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªãƒ¼ã«æˆ»ã‚‹
                const [_, category, subIndex] = navigationHistory;
                openSubcategory(category, subIndex);
            } else if (currentPage === 'subcategory') {
                // ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‹ã‚‰ã‚«ãƒ†ã‚´ãƒªãƒ¼ã«æˆ»ã‚‹
                const [_, category] = navigationHistory;
                openCategory(category);
            } else if (currentPage === 'category') {
                // ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‹ã‚‰ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
                closeModal();
            }
        }

        // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡ï¼ˆUIã®ã¿ï¼‰
        function submitForm() {
            alert('ãŠç”³ã—è¾¼ã¿ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼\nï¼ˆâ€»ã“ã‚Œã¯UIã®ãƒ‡ãƒ¢ã§ã™ã€‚å®Ÿéš›ã®é€ä¿¡æ©Ÿèƒ½ã¯å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼‰');
        }

        // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // ãƒ¢ãƒ¼ãƒ€ãƒ«å¤–ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹
        document.getElementById('modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®é–‹é–‰
        function toggleMenu() {
            const sideMenu = document.getElementById('sideMenu');
            const menuOverlay = document.getElementById('menuOverlay');
            const hamburger = document.querySelector('.hamburger');
            
            sideMenu.classList.toggle('active');
            menuOverlay.classList.toggle('active');
            hamburger.classList.toggle('active');
        }
    </script>
</body>
</html>