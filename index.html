<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>あなたのための真心を込めたおもてなし - Your Personal Journey, Crafted with Sincerity</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans JP', 'Yu Gothic', '游ゴシック', YuGothic, sans-serif;
            line-height: 1.6;
            color: #2c2c2c;
            overflow-x: hidden;
        }

        /* グローバルナビゲーション */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            z-index: 1000;
            padding: 20px 0;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .navbar.scrolled {
            background: rgba(255, 255, 255, 0.99);
            padding: 15px 0;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.15);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 30px;
        }

        .logo {
            font-size: 20px;
            font-weight: 300;
            color: #2c2c2c;
            text-decoration: none;
            letter-spacing: 1px;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 40px;
        }

        .nav-menu a {
            text-decoration: none;
            color: #2c2c2c;
            font-weight: 300;
            letter-spacing: 1px;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-menu a:hover {
            color: #c8860d;
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 1px;
            background: #c8860d;
            transition: width 0.3s ease;
        }

        .nav-menu a:hover::after {
            width: 100%;
        }

        /* ハンバーガーメニュー */
        .hamburger {
            display: flex;
            flex-direction: column;
            cursor: pointer;
            gap: 5px;
        }

        .hamburger span {
            width: 25px;
            height: 2px;
            background: #2c2c2c;
            transition: all 0.3s ease;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        .side-menu {
            position: fixed;
            top: 0;
            left: -300px;
            width: 300px;
            height: 100vh;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            z-index: 2000;
            transition: left 0.3s ease;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
        }

        .side-menu.active {
            left: 0;
        }

        .side-menu-header {
            padding: 30px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .side-menu-close {
            font-size: 30px;
            cursor: pointer;
            color: #2c2c2c;
        }

        .side-menu-list {
            list-style: none;
            padding: 20px 0;
        }

        .side-menu-list li {
            border-bottom: 1px solid #f0f0f0;
        }

        .side-menu-list a {
            display: block;
            padding: 20px 30px;
            color: #2c2c2c;
            text-decoration: none;
            font-weight: 300;
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }

        .side-menu-list a:hover {
            background: #f9f9f9;
            color: #c8860d;
            padding-left: 40px;
        }

        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1999;
            display: none;
        }

        .menu-overlay.active {
            display: block;
        }

        .language-toggle {
            position: relative;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            font-weight: 300;
            letter-spacing: 1px;
        }

        .language-selector {
            position: relative;
            cursor: pointer;
        }

        .language-current {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            background: transparent;
            border: 1px solid #2c2c2c;
            border-radius: 3px;
            font-size: 0.9rem;
            font-weight: 300;
            color: #2c2c2c;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .language-current:hover {
            background: #f5f5f5;
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 5px;
            background: #c8a05a;
            border-radius: 5px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            min-width: 180px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 1001;
            display: none;
        }

        .language-dropdown.active {
            display: block;
        }

        .language-dropdown-item {
            padding: 12px 20px;
            color: #2c2c2c;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.9rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .language-dropdown-item:last-child {
            border-bottom: none;
        }

        .language-dropdown-item:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .language-dropdown-item.active {
            background: rgba(255, 255, 255, 0.3);
            font-weight: 500;
        }

        /* カートアイコン */
        .cart-icon {
            position: relative;
            cursor: pointer;
            padding: 8px 15px;
            border: 1px solid #2c2c2c;
            border-radius: 3px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .cart-icon:hover {
            background: #f5f5f5;
        }

        .cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #c8860d;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .cart-badge.hidden {
            display: none;
        }

        /* カートバッジアニメーション */
        @keyframes badgePop {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.3);
            }
            100% {
                transform: scale(1);
            }
        }

        .cart-badge.pop {
            animation: badgePop 0.3s ease;
        }

        /* トースト通知 */
        .toast-notification {
            position: fixed;
            top: 100px;
            right: 30px;
            background: rgba(200, 134, 13, 0.95);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            z-index: 3000;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95rem;
            opacity: 0;
            transform: translateX(400px);
            transition: all 0.3s ease;
            pointer-events: none;
        }

        .toast-notification.show {
            opacity: 1;
            transform: translateX(0);
        }

        .toast-notification .toast-icon {
            font-size: 1.3rem;
        }

        .toast-notification .toast-message {
            flex: 1;
        }

        @media (max-width: 768px) {
            .toast-notification {
                top: 80px;
                right: 15px;
                left: 15px;
                font-size: 0.9rem;
                padding: 12px 20px;
            }
        }

        /* ヒーローセクション */
        .hero {
            height: 140vh; /* 高さを増やしてコンテンツがかぶらないように */
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            overflow: hidden;
            background: linear-gradient(45deg, #1a1a1a, #2d2d2d);
            padding-top: 20px; /* ナビバーの高さ分のパディングを追加 */
        }

        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                45deg,
                rgba(26, 26, 26, 0.75),
                rgba(45, 45, 45, 0.6)
            );
            z-index: 2;
        }

        .hero-content {
            position: relative;
            z-index: 3;
            color: white;
            max-width: 900px;
            padding: 0 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: calc(70vh - 100px); /* 高さを調整して余裕を持たせる */
            margin-top: 20px; /* より大きなマージンで下に配置 */
        }

        .hero-title {
            font-size: 3.2rem;
            font-weight: 100;
            margin-bottom: 15px;
            letter-spacing: 3px;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1.8s ease 0.5s forwards;
            line-height: 1.3;
        }

        .hero-title-line1 {
            display: block;
            margin-bottom: 10px;
        }

        .hero-title-line2 {
            display: block;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            font-weight: 300;
            margin-bottom: 35px;
            letter-spacing: 2px;
            opacity: 0.9;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1.8s ease 1s forwards;
        }

        .hero-description {
            font-size: 1.1rem;
            line-height: 1.9;
            margin-bottom: 30px;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1.8s ease 1.5s forwards;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-button {
            display: inline-block;
            padding: 18px 45px;
            background: transparent;
            border: 2px solid #c8860d;
            color: #c8860d;
            text-decoration: none;
            letter-spacing: 2px;
            font-weight: 300;
            transition: all 0.4s ease;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1.8s ease 2.3s forwards;
            margin-top: 20px;
        }

        .cta-button:hover {
            background: #c8860d;
            color: #2c2c2c;
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(200, 134, 13, 0.3);
        }

        /* YouTube動画のレスポンシブ対応 */
        .video-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 40px auto;
            padding-bottom: 56.25%; /* 16:9のアスペクト比 */
            height: 0;
            overflow: hidden;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1.8s ease 1.8s forwards;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 8px;
        }

        /* セクション共通スタイル */
        .section {
            padding: 100px 0;
            max-width: 1200px;
            margin: 0 auto;
            padding-left: 30px;
            padding-right: 30px;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 100;
            text-align: center;
            margin-bottom: 60px;
            letter-spacing: 3px;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 1px;
            background: #c8860d;
        }

        /* エクスペリエンスセクション */
        .experiences-intro {
            text-align: center;
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 80px;
            line-height: 1.8;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 80px;
        }

        .experiences-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 40px;
            margin-top: 80px;
        }

        .experience-card {
            position: relative;
            height: 500px;
            overflow: hidden;
            border-radius: 12px;
            transition: transform 0.4s ease;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .experience-card:hover {
            transform: translateY(-15px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .experience-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .experience-card:hover .experience-image {
            transform: scale(1.1);
        }

        .experience-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                to bottom,
                transparent 0%,
                rgba(0, 0, 0, 0.8) 100%
            );
            display: flex;
            align-items: flex-end;
            padding: 35px;
        }

        .experience-content {
            color: white;
        }

        .experience-title {
            font-size: 1.6rem;
            font-weight: 300;
            margin-bottom: 15px;
            letter-spacing: 1px;
        }

        .experience-description {
            font-size: 0.95rem;
            line-height: 1.7;
            opacity: 0.95;
        }

        /* 真心セクション */
        .sincerity {
            background: linear-gradient(135deg, #f9f9f9, #ffffff);
        }

        .sincerity-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .sincerity-intro {
            font-size: 1.3rem;
            line-height: 1.9;
            color: #333;
            margin-bottom: 60px;
        }

        .sincerity-points {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 50px;
            margin-top: 60px;
            text-align: left;
        }

        .sincerity-point {
            padding: 30px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }

        .sincerity-point:hover {
            transform: translateY(-5px);
        }

        .sincerity-point h3 {
            font-size: 1.3rem;
            font-weight: 400;
            color: #c8860d;
            margin-bottom: 15px;
            letter-spacing: 1px;
        }

        .sincerity-point p {
            line-height: 1.7;
            color: #555;
        }

        /* お問い合わせセクション */
        .inquiry {
            background: #2c2c2c;
            color: white;
        }

        .inquiry .section-title {
            color: white;
        }

        .inquiry-intro {
            text-align: center;
            font-size: 1.1rem;
            margin-bottom: 60px;
            line-height: 1.8;
            opacity: 0.95;
        }

        .inquiry-form {
            max-width: 600px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 30px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 300;
            letter-spacing: 1px;
            color: #ddd;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 15px;
            border: 1px solid #555;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            font-size: 1rem;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #c8860d;
            background: rgba(255, 255, 255, 0.08);
        }

        .form-group textarea {
            height: 150px;
            resize: vertical;
        }

        .submit-button {
            background: #c8860d;
            color: #2c2c2c;
            border: none;
            padding: 18px 45px;
            font-size: 1rem;
            letter-spacing: 2px;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s ease;
            font-weight: 300;
        }

        .submit-button:hover {
            background: #a66f0a;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(200, 134, 13, 0.3);
        }

        .inquiry-process {
            margin-top: 60px;
            padding-top: 40px;
            border-top: 1px solid #555;
            text-align: center;
            opacity: 0.8;
        }

        .inquiry-process h3 {
            margin-bottom: 25px;
            font-weight: 300;
            font-size: 1.2rem;
        }

        .inquiry-process p {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        /* アニメーション */
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* レスポンシブ */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }

            .language-toggle {
                display: none;
            }
            
            .hero {
                height: 110vh; /* モバイルでも高さを調整 */
                padding-top: 80px; /* モバイルでは少し小さく */
            }
            
            .hero-title {
                font-size: 2.2rem;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
            }
            
            .hero-description {
                font-size: 1rem;
                margin-bottom: 25px;
            }
            
            .video-container {
                max-width: 95%;
                margin: 30px auto;
            }
            
            .cta-button {
                padding: 15px 35px;
                font-size: 0.9rem;
                margin-top: 15px;
            }
            
            .hero-content {
                padding: 0 20px;
                min-height: calc(60vh - 80px); /* モバイルでのmin-heightを調整 */
                margin-top: 50px; /* モバイルでも下に配置 */
            }
            
            .experiences-grid {
                grid-template-columns: 1fr;
            }
            
            .sincerity-points {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .section {
                padding: 60px 20px;
            }
        }

        /* セクション間のスペース調整 */
        .main-section {
            scroll-margin-top: 100px; /* ナビバーの高さ分のオフセット */
        }

        /* モーダルスタイル */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            overflow-y: auto;
            animation: fadeIn 0.3s ease;
        }

        .modal.active {
            display: block;
        }

        .modal-close {
            position: fixed;
            top: 30px;
            right: 30px;
            font-size: 40px;
            color: white;
            cursor: pointer;
            z-index: 2001;
            transition: transform 0.3s ease;
        }

        .modal-close:hover {
            transform: rotate(90deg);
        }

        .modal-back {
            position: fixed;
            top: 30px;
            left: 30px;
            font-size: 40px;
            color: white;
            cursor: pointer;
            z-index: 2001;
            transition: transform 0.3s ease;
            display: none;
        }

        .modal-back.show {
            display: block;
        }

        .modal-back:hover {
            transform: translateX(-5px);
        }

        .modal-content {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 100px 30px 50px;
        }

        .modal-inner {
            max-width: 1000px;
            width: 100%;
        }

        .modal-title {
            font-size: 3rem;
            color: white;
            text-align: center;
            margin-bottom: 60px;
            letter-spacing: 3px;
            font-weight: 100;
        }

        .modal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .modal-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .modal-card:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-5px);
            border-color: #c8860d;
        }

        .modal-card h3 {
            color: white;
            font-size: 1.5rem;
            font-weight: 300;
            margin-bottom: 15px;
            letter-spacing: 2px;
        }

        .modal-card p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .detail-view {
            color: white;
            text-align: center;
        }

        .detail-image {
            width: 100%;
            max-width: 800px;
            height: 500px;
            object-fit: cover;
            border-radius: 15px;
            margin: 0 auto 40px;
            display: block;
        }

        .detail-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
            font-weight: 300;
            letter-spacing: 2px;
        }

        .detail-description {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .detail-price {
            font-size: 2rem;
            color: #c8860d;
            margin-bottom: 40px;
            font-weight: 300;
        }

        .detail-button {
            display: inline-block;
            padding: 18px 50px;
            background: #c8860d;
            color: #2c2c2c;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 300;
            letter-spacing: 2px;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
            font-size: 1rem;
        }

        .detail-button:hover {
            background: #a66f0a;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(200, 134, 13, 0.3);
        }

        .back-button {
            display: inline-block;
            margin-top: 30px;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            font-size: 1rem;
            transition: color 0.3s ease;
        }

        .back-button:hover {
            color: white;
        }

        /* カートモーダル */
        .cart-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            overflow-y: auto;
            animation: fadeIn 0.3s ease;
        }

        .cart-modal.active {
            display: block;
        }

        .cart-items-list {
            margin-top: 30px;
        }

        .cart-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .cart-item:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            color: white;
            font-size: 1.2rem;
            font-weight: 300;
            margin-bottom: 5px;
        }

        .cart-item-category {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }

        .cart-item-price {
            color: #c8860d;
            font-size: 1.1rem;
            margin: 0 20px;
        }

        .cart-item-remove {
            background: rgba(255, 59, 48, 0.8);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .cart-item-remove:hover {
            background: rgba(255, 59, 48, 1);
        }

        .cart-empty {
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
            padding: 60px 20px;
            font-size: 1.1rem;
        }

        .cart-actions {
            margin-top: 40px;
            display: flex;
            gap: 20px;
            justify-content: center;
        }

        .cart-clear-btn {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 15px 40px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            letter-spacing: 1px;
        }

        .cart-clear-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .cart-checkout-btn {
            background: #c8860d;
            color: #2c2c2c;
            border: none;
            padding: 15px 40px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            letter-spacing: 1px;
            font-weight: 400;
        }

        .cart-checkout-btn:hover {
            background: #a66f0a;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(200, 134, 13, 0.3);
        }

        .cart-checkout-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .cart-checkout-btn:disabled:hover {
            transform: none;
            box-shadow: none;
        }
    </style>
</head>
<body>
    <!-- ナビゲーション -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="#home" class="logo">真心のおもてなし</a>
            <div style="display: flex; align-items: center; gap: 30px;">
                <ul class="nav-menu">
                    <li><a href="#home">HOME</a></li>
                    <li><a href="#experiences">EXPERIENCES</a></li>
                    <li><a href="#sincerity">OUR SINCERITY</a></li>
                </ul>
                <div class="language-toggle">
                    <!-- カートアイコン -->
                    <div class="cart-icon" onclick="openCart()">
                        🛒
                        <span class="cart-badge hidden" id="cartBadge">0</span>
                    </div>
                    
                    <!-- 言語セレクター -->
                    <div class="language-selector">
                        <div class="language-current" onclick="toggleLanguageDropdown()">
                            🌐 <span id="currentLanguage">日本語</span> ▼
                        </div>
                        <div class="language-dropdown" id="languageDropdown">
                            <div class="language-dropdown-item active" onclick="selectLanguage('日本語', 'ja')">日本語</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('English (US)', 'en-us')">English (US)</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('English (UK)', 'en-uk')">English (UK)</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('English (AU)', 'en-au')">English (AU)</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('English (Asia)', 'en-asia')">English (Asia)</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('Français', 'fr')">Français</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('Italiano', 'it')">Italiano</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('Deutsch', 'de')">Deutsch</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('Polski', 'pl')">Polski</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('Español', 'es')">Español</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('Español (LATAM)', 'es-latam')">Español (LATAM)</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('Português do Brasil', 'pt-br')">Português do Brasil</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('繁體中文', 'zh-tw')">繁體中文</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('简体中文', 'zh-cn')">简体中文</div>
                            <div class="language-dropdown-item" onclick="selectLanguage('한국어', 'ko')">한국어</div>
                        </div>
                    </div>
                </div>
                <div class="hamburger" onclick="toggleMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </nav>

    <!-- サイドメニュー -->
    <div class="side-menu" id="sideMenu">
        <div class="side-menu-header">
            <span style="font-weight: 300; letter-spacing: 1px;">MENU</span>
            <span class="side-menu-close" onclick="toggleMenu()">&times;</span>
        </div>
        <ul class="side-menu-list">
            <li><a href="#home" onclick="toggleMenu()">HOME</a></li>
            <li><a href="#about" onclick="toggleMenu()">ABOUT US（運営者情報）</a></li>
            <li><a href="#faq" onclick="toggleMenu()">FAQ（よくある質問）</a></li>
            <li><a href="#testimonials" onclick="toggleMenu()">TESTIMONIALS（お客様の声）</a></li>
            <li><a href="#inquiry" onclick="toggleMenu()">INQUIRY（お問い合わせ）</a></li>
        </ul>
    </div>

    <!-- メニューオーバーレイ -->
    <div class="menu-overlay" id="menuOverlay" onclick="toggleMenu()"></div>

    <!-- トースト通知 -->
    <div class="toast-notification" id="toastNotification">
        <span class="toast-icon">✓</span>
        <span class="toast-message"></span>
    </div>

    <!-- ホームセクション -->
    <section id="home" class="hero main-section">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1 class="hero-title">
                <span class="hero-title-line1">あなたのための</span>
                <span class="hero-title-line2">真心を込めたおもてなし</span>
            </h1>
            <p class="hero-subtitle">Your Personal Journey, Crafted with Sincerity</p>
            <p class="hero-description">
                私たちは、画一的なツアーでは満足できない『あなた』のためだけに存在する、プライベート・ツアーの専門家です。<br>
                お決まりのルートはありません。旅の始まりは、いつもあなたの心の中にあります。
            </p>
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/WLIv7HnZ_fE?si=SJtHAqNLxVT02vUK" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
        </div>
    </section>

    <!-- エクスペリエンスセクション -->
    <section id="experiences" class="section main-section">
        <h2 class="section-title">EXPERIENCES</h2>
        <div class="experiences-intro">
            ここに掲載するのは、過去にお客様のためだけに創り上げた旅の、ほんの一例です。<br>
            あなたの旅は、あなたの興味や夢をお聞かせいただくことから始まります。<br>
            誰一人として同じ旅はありません。
        </div>
            
        <div class="experiences-grid">
            <div class="experience-card" onclick="openCategory('tourism')">
                <img src="images/tourism.jpg" class="experience-image" alt="観光" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjQwMCIgaGVpZ2h0PSIzMDAiIGZpbGw9IiMyYzRjNTQiLz48L3N2Zz4='">
                <div class="experience-overlay">
                    <div class="experience-content">
                        <h3 class="experience-title">観光</h3>
                        <p class="experience-description">
                            岐阜の美しい自然と歴史的な名所を巡る特別な旅をご提案します。
                        </p>
                    </div>
                </div>
            </div>

            <div class="experience-card" onclick="openCategory('experience')">
                <img src="images/experience.jpg" class="experience-image" alt="体験" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjQwMCIgaGVpZ2h0PSIzMDAiIGZpbGw9IiM0YTMyMjgiLz48L3N2Zz4='">
                <div class="experience-overlay">
                    <div class="experience-content">
                        <h3 class="experience-title">体験</h3>
                        <p class="experience-description">
                            伝統文化やアクティビティを通じて、岐阜の魅力を体感してください。
                        </p>
                    </div>
                </div>
            </div>

            <div class="experience-card" onclick="openCategory('gourmet')">
                <img src="images/gourmet.jpg" class="experience-image" alt="グルメ" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjQwMCIgaGVpZ2h0PSIzMDAiIGZpbGw9IiMyODQwMzYiLz48L3N2Zz4='">
                <div class="experience-overlay">
                    <div class="experience-content">
                        <h3 class="experience-title">グルメ</h3>
                        <p class="experience-description">
                            岐阜の美食を堪能する、贅沢なグルメ体験をお楽しみください。
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 真心セクション -->
    <section id="sincerity" class="section sincerity main-section">
            <h2 class="section-title">OUR SINCERITY</h2>
            <div class="sincerity-content">
                <div class="sincerity-intro">
                    私たちの言う「真心」とは、単なる言葉ではありません。<br>
                    あなたとの出会いから旅の終わりまで、すべての瞬間に込める、具体的な行動です。
                </div>
                
                <div class="sincerity-points">
                    <div class="sincerity-point">
                        <h3>真心で「聴く」</h3>
                        <p>
                            お客様の言葉はもちろん、その背景にある想いや文化まで深く理解しようと努めます。
                            表面的なご要望だけでなく、心の奥にある本当の願いを見つけ出すために、
                            じっくりとお話をお伺いします。
                        </p>
                    </div>
                    
                    <div class="sincerity-point">
                        <h3>真心で「創る」</h3>
                        <p>
                            その想いを形にするため、私たちの人脈、知識、時間のすべてを注ぎ込み、
                            唯一無二の旅を設計します。既存のプランに当てはめるのではなく、
                            あなたのためだけの特別な体験を一から創り上げます。
                        </p>
                    </div>
                    
                    <div class="sincerity-point">
                        <h3>真心で「寄り添う」</h3>
                        <p>
                            旅の最中、予期せぬ出来事や新たなご要望にも、家族のように親身に対応し、
                            最高の思い出作りを支えます。あなたの旅が、人生の宝物となるよう、
                            最後まで責任を持ってお手伝いいたします。
                        </p>
                    </div>
                </div>
            </div>
        </section>

    <!-- モーダル -->
    <div id="modal" class="modal">
        <span class="modal-back" id="modalBack" onclick="goBack()">←</span>
        <span class="modal-close" onclick="closeModal()">&times;</span>
        <div class="modal-content">
            <div class="modal-inner" id="modalInner">
                <!-- JavaScriptで動的に内容を変更 -->
            </div>
        </div>
    </div>

    <!-- カートモーダル -->
    <div id="cartModal" class="cart-modal">
        <span class="modal-close" onclick="closeCart()">&times;</span>
        <div class="modal-content">
            <div class="modal-inner">
                <h2 class="modal-title">カート</h2>
                <div id="cartItemsList" class="cart-items-list">
                    <!-- カートアイテムがここに表示されます -->
                </div>
                <div class="cart-actions" id="cartActions">
                    <!-- アクションボタンがここに表示されます -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // ナビバーのスクロール効果
        window.addEventListener('scroll', function() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // ナビゲーション履歴管理
        let navigationHistory = [];

        // カート管理
        let cart = [];

        // ローカルストレージからカートを読み込む
        function loadCart() {
            const savedCart = localStorage.getItem('tourCart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                updateCartBadge();
            }
        }

        // カートをローカルストレージに保存
        function saveCart() {
            localStorage.setItem('tourCart', JSON.stringify(cart));
            updateCartBadge();
        }

        // カートバッジを更新
        function updateCartBadge() {
            const badge = document.getElementById('cartBadge');
            if (cart.length > 0) {
                badge.textContent = cart.length;
                badge.classList.remove('hidden');
            } else {
                badge.classList.add('hidden');
            }
        }

        // カートバッジをアニメーション付きで更新
        function updateCartBadgeWithAnimation() {
            const badge = document.getElementById('cartBadge');
            if (cart.length > 0) {
                badge.textContent = cart.length;
                badge.classList.remove('hidden');
                // ポップアニメーション
                badge.classList.remove('pop');
                void badge.offsetWidth; // リフロー強制
                badge.classList.add('pop');
            } else {
                badge.classList.add('hidden');
            }
        }

        // トースト通知を表示
        function showToast(message, duration = 3000) {
            const toast = document.getElementById('toastNotification');
            const messageEl = toast.querySelector('.toast-message');
            
            messageEl.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, duration);
        }

        // カートにアイテムを追加
        function addToCart(category, subIndex, itemIndex) {
            const item = tourData[category].subcategories[subIndex].items[itemIndex];
            const cartItem = {
                category: category,
                categoryTitle: tourData[category].title,
                subCategory: tourData[category].subcategories[subIndex].name,
                subIndex: subIndex,
                itemIndex: itemIndex,
                name: item.name,
                price: item.price,
                description: item.description,
                image: item.image
            };
            
            // 既にカートにあるかチェック
            const exists = cart.some(item => 
                item.category === category && 
                item.subIndex === subIndex && 
                item.itemIndex === itemIndex
            );
            
            if (!exists) {
                cart.push(cartItem);
                saveCart();
                
                // トースト通知を表示
                showToast(`「${item.name}」をカートに追加しました`);
                
                // カートバッジをアニメーション付きで更新
                updateCartBadgeWithAnimation();
                
                // ボタンを一時的に「追加済み」状態にする
                const buttonId = `cart-btn-${category}-${subIndex}-${itemIndex}`;
                const button = document.getElementById(buttonId);
                if (button) {
                    const originalHTML = button.innerHTML;
                    button.innerHTML = '✓ 追加済み';
                    button.style.background = 'rgba(76, 175, 80, 0.3)';
                    button.style.borderColor = '#4CAF50';
                    button.style.color = '#4CAF50';
                    button.disabled = true;
                    
                    setTimeout(() => {
                        button.innerHTML = originalHTML;
                        button.style.background = 'rgba(255, 255, 255, 0.1)';
                        button.style.borderColor = '#c8860d';
                        button.style.color = '#fff';
                        button.disabled = false;
                    }, 2000);
                }
            } else {
                // 既に追加済みの場合
                showToast('このアイテムは既にカートに入っています');
            }
        }

        // カートに追加してすぐに申し込みフォームを開く
        function addToCartAndApply(category, subIndex, itemIndex) {
            const item = tourData[category].subcategories[subIndex].items[itemIndex];
            const cartItem = {
                category: category,
                categoryTitle: tourData[category].title,
                subCategory: tourData[category].subcategories[subIndex].name,
                subIndex: subIndex,
                itemIndex: itemIndex,
                name: item.name,
                price: item.price,
                description: item.description,
                image: item.image
            };
            
            // 既にカートにあるかチェック
            const exists = cart.some(item => 
                item.category === category && 
                item.subIndex === subIndex && 
                item.itemIndex === itemIndex
            );
            
            if (!exists) {
                cart.push(cartItem);
                saveCart();
            }
            
            // 詳細画面の履歴を保持したまま申し込みフォームを表示
            navigationHistory.push('detail-form');
            showInquiryFormWithCart();
        }

        // カートからアイテムを削除
        function removeFromCart(index) {
            cart.splice(index, 1);
            saveCart();
            renderCart();
        }

        // カートを空にする
        function clearCart() {
            if (confirm('カートを空にしますか?')) {
                cart = [];
                saveCart();
                renderCart();
            }
        }

        // カートを開く
        function openCart() {
            renderCart();
            document.getElementById('cartModal').classList.add('active');
        }

        // カートを閉じる
        function closeCart() {
            document.getElementById('cartModal').classList.remove('active');
        }

        // カートの内容を表示
        function renderCart() {
            const cartItemsList = document.getElementById('cartItemsList');
            const cartActions = document.getElementById('cartActions');
            
            if (cart.length === 0) {
                cartItemsList.innerHTML = '<div class="cart-empty">カートは空です</div>';
                cartActions.innerHTML = '';
                return;
            }
            
            let html = '';
            cart.forEach((item, index) => {
                html += `
                    <div class="cart-item">
                        <div class="cart-item-info">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-category">${item.categoryTitle} > ${item.subCategory}</div>
                        </div>
                        <div class="cart-item-price">${item.price}</div>
                        <button class="cart-item-remove" onclick="removeFromCart(${index})">削除</button>
                    </div>
                `;
            });
            
            cartItemsList.innerHTML = html;
            
            cartActions.innerHTML = `
                <button class="cart-clear-btn" onclick="clearCart()">カートを空にする</button>
                <button class="cart-checkout-btn" onclick="checkoutCart()">まとめて申し込む</button>
            `;
        }

        // カートの内容で申し込みフォームを開く
        function checkoutCart() {
            closeCart();
            showInquiryFormWithCart();
        }

        // 言語ドロップダウンの開閉
        function toggleLanguageDropdown() {
            const dropdown = document.getElementById('languageDropdown');
            dropdown.classList.toggle('active');
        }

        // 言語選択
        function selectLanguage(languageName, languageCode) {
            document.getElementById('currentLanguage').textContent = languageName;
            
            // すべてのアイテムからactiveを削除
            document.querySelectorAll('.language-dropdown-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // 選択したアイテムにactiveを追加
            event.target.classList.add('active');
            
            // ドロップダウンを閉じる
            document.getElementById('languageDropdown').classList.remove('active');
            
            console.log('Language switched to:', languageCode);
            // TODO: 将来的に言語切り替え機能を実装
        }

        // ドロップダウン外クリックで閉じる
        document.addEventListener('click', function(e) {
            const languageSelector = document.querySelector('.language-selector');
            const dropdown = document.getElementById('languageDropdown');
            
            if (languageSelector && !languageSelector.contains(e.target)) {
                dropdown.classList.remove('active');
            }
        });

        // ページ読み込み時にカートを読み込む
        window.addEventListener('load', function() {
            loadCart();
        });

        // データ構造
        const tourData = {
            tourism: {
                title: '観光',
                subcategories: [
                    {
                        name: '自然',
                        items: [
                            { name: '穂高岳', image: 'images/hotaka.jpg', price: '¥30,000〜', description: '北アルプスの名峰、穂高岳を巡る特別なツアー' },
                            { name: '伊吹山', image: 'images/ibuki.jpg', price: '¥20,000〜', description: '標高1,377mの伊吹山登山ツアー' },
                            { name: '洞窟', image: 'images/cave.jpg', price: '¥15,000〜', description: '神秘的な洞窟探検' },
                            { name: '花火大会', image: 'images/fireworks-event.jpg', price: '¥25,000〜', description: '岐阜の夏を彩る壮大な花火大会' }
                        ]
                    },
                    {
                        name: '歴史・文化',
                        items: [
                            { name: '金華山', image: 'images/kinka.jpg', price: '¥18,000〜', description: '岐阜城のある金華山ツアー' },
                            { name: '関ヶ原', image: 'images/sekigahara.jpg', price: '¥22,000〜', description: '歴史の舞台、関ヶ原を訪ねる' },
                            { name: '神社', image: 'images/shrine.jpg', price: '¥16,000〜', description: '歴史ある神社巡り' },
                            { name: '鵜飼', image: 'images/ukai.jpg', price: '¥28,000〜', description: '長良川の伝統的な鵜飼観覧' }
                        ]
                    }
                ]
            },
            experience: {
                title: '体験',
                subcategories: [
                    {
                        name: 'アクティビティ',
                        items: [
                            { name: '金華山トレッキング', image: 'images/hiking.jpg', price: '¥15,000〜', description: '金華山を登るトレッキング体験' },
                            { name: '馬籠宿トレッキング', image: 'images/magome.jpg', price: '¥18,000〜', description: '中山道の宿場町、馬籠宿を巡るトレッキング' },
                            { name: 'ラフティング', image: 'images/rafting.jpg', price: '¥14,000〜', description: '清流でスリリングなラフティング体験' },
                            { name: 'キャニオニング', image: 'images/canyoning.jpg', price: '¥16,000〜', description: '渓谷を下るエキサイティングな冒険' }
                        ]
                    },
                    {
                        name: '伝統',
                        items: [
                            { name: '茶道', image: 'images/tea.jpg', price: '¥12,000〜', description: '本格的な茶道体験' },
                            { name: '座禅', image: 'images/zazen.jpg', price: '¥10,000〜', description: '静寂の中での座禅体験' },
                            { name: '刀鍛冶', image: 'images/katana.jpg', price: '¥35,000〜', description: '伝統的な刀鍛冶見学・体験' },
                            { name: '花火作り', image: 'images/fireworks.jpg', price: '¥20,000〜', description: '職人と一緒に花火作り' },
                            { name: '傘・提灯作り', image: 'images/lantern.jpg', price: '¥15,000〜', description: '伝統工芸の和傘・提灯作り' },
                            { name: '屋形船', image: 'images/yakatabune.jpg', price: '¥25,000〜', description: '優雅な屋形船体験' }
                        ]
                    },
                    {
                        name: '旬',
                        items: [
                            { name: 'キノコ狩り', image: 'images/mushroom.jpg', price: '¥10,000〜', description: '秋のキノコ狩り体験' },
                            { name: '田植え', image: 'images/rice-planting.jpg', price: '¥12,000〜', description: '日本の原風景、田植え体験' },
                            { name: 'フルーツ狩り', image: 'images/fruit.jpg', price: '¥10,000〜', description: '季節のフルーツ狩り' }
                        ]
                    },
                    {
                        name: '酒',
                        items: [
                            { name: 'ジャパニーズウィスキー蒸留所見学', image: 'images/whiskey-distillery.jpg', price: '¥20,000〜', description: '世界的に評価される日本のウィスキー蒸留所を訪問' },
                            { name: '酒造見学', image: 'images/sake-brewery.jpg', price: '¥15,000〜', description: '伝統的な日本酒造りの現場を体験' }
                        ]
                    }
                ]
            },
            gourmet: {
                title: 'グルメ',
                subcategories: [
                    {
                        name: '肉',
                        items: [
                            { name: '焼肉', image: 'images/yakiniku.jpg', price: '¥15,000〜', description: '最高級飛騨牛の焼肉' },
                            { name: 'すき焼き', image: 'images/sukiyaki.jpg', price: '¥18,000〜', description: '飛騨牛のすき焼き' },
                            { name: 'しゃぶしゃぶ', image: 'images/shabu-shabu.jpg', price: '¥17,000〜', description: '極上飛騨牛のしゃぶしゃぶ' },
                            { name: 'ステーキ', image: 'images/steak.jpg', price: '¥22,000〜', description: 'A5ランク飛騨牛ステーキ' },
                            { name: '焼鳥', image: 'images/yakitori.jpg', price: '¥12,000〜', description: '地鶏を使った本格焼鳥' }
                        ]
                    },
                    {
                        name: '魚',
                        items: [
                            { name: '寿司', image: 'images/sushi.jpg', price: '¥20,000〜', description: '職人が握る極上寿司' },
                            { name: '鮎料理', image: 'images/ayu.jpg', price: '¥18,000〜', description: '清流で育った鮎料理' },
                            { name: 'うなぎ', image: 'images/unagi.jpg', price: '¥16,000〜', description: '伝統のタレで焼き上げる極上うなぎ' },
                            { name: '和食', image: 'images/washoku.jpg', price: '¥15,000〜', description: '季節の食材を使った本格和食' }
                        ]
                    },
                    {
                        name: '懐石料理',
                        items: [
                            { name: '懐石料理', image: 'images/kaiseki.jpg', price: '¥25,000〜', description: '四季を感じる本格懐石' }
                        ]
                    }
                ]
            }
        };

        // カテゴリーを開く
        function openCategory(category) {
            const data = tourData[category];
            navigationHistory = ['category', category];
            
            let html = `<h2 class="modal-title">${data.title}</h2>`;
            html += '<div class="modal-grid">';
            
            data.subcategories.forEach((sub, index) => {
                html += `
                    <div class="modal-card" onclick="openSubcategory('${category}', ${index})">
                        <h3>${sub.name}</h3>
                        <p>${sub.items.length}つの体験</p>
                    </div>
                `;
            });
            
            html += '</div>';
            document.getElementById('modalInner').innerHTML = html;
            document.getElementById('modal').classList.add('active');
            document.getElementById('modalBack').classList.add('show');
        }

        // サブカテゴリーを開く
        function openSubcategory(category, subIndex) {
            const data = tourData[category];
            const sub = data.subcategories[subIndex];
            navigationHistory = ['subcategory', category, subIndex];
            
            let html = `<h2 class="modal-title">${sub.name}</h2>`;
            html += '<div class="modal-grid">';
            
            sub.items.forEach((item, itemIndex) => {
                html += `
                    <div class="modal-card" onclick="openDetail('${category}', ${subIndex}, ${itemIndex})">
                        <h3>${item.name}</h3>
                        <p>${item.price}</p>
                    </div>
                `;
            });
            
            html += '</div>';
            
            document.getElementById('modalInner').innerHTML = html;
            document.getElementById('modalBack').classList.add('show');
        }

        // 詳細を開く
        function openDetail(category, subIndex, itemIndex) {
            const item = tourData[category].subcategories[subIndex].items[itemIndex];
            navigationHistory = ['detail', category, subIndex, itemIndex];
            
            // ボタンにユニークなIDを付与
            const buttonId = `cart-btn-${category}-${subIndex}-${itemIndex}`;
            
            let html = `
                <div class="detail-view">
                    <img src="${item.image}" class="detail-image" alt="${item.name}" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjUwMCIgdmlld0JveD0iMCAwIDgwMCA1MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjgwMCIgaGVpZ2h0PSI1MDAiIGZpbGw9IiMzYTNhM2EiLz48L3N2Zz4='">
                    <h2 class="detail-title">${item.name}</h2>
                    <p class="detail-description">${item.description}</p>
                    <div class="detail-price">${item.price}</div>
                    <div style="display: flex; gap: 15px; justify-content: center; margin-top: 30px;">
                        <button id="${buttonId}" class="detail-button" style="background: rgba(255, 255, 255, 0.1); border: 1px solid #c8860d; color: #fff;" onclick="addToCart('${category}', ${subIndex}, ${itemIndex})">🛒 カートに追加</button>
                        <button class="detail-button" onclick="addToCartAndApply('${category}', ${subIndex}, ${itemIndex})">今すぐ申し込む</button>
                    </div>
                </div>
            `;
            
            document.getElementById('modalInner').innerHTML = html;
            document.getElementById('modalBack').classList.add('show');
        }

        // 申し込みフォームを表示
        function showInquiryForm() {
            navigationHistory.push('form');
            
            // 現在の詳細画面のアイテム情報を取得
            const detailHistory = navigationHistory[navigationHistory.length - 2];
            let selectedItemsHtml = '';
            
            if (detailHistory && detailHistory[0] === 'detail') {
                const [_, category, subIndex, itemIndex] = detailHistory;
                const item = tourData[category].subcategories[subIndex].items[itemIndex];
                selectedItemsHtml = `
                    <div class="form-group">
                        <label>選択された体験</label>
                        <div style="background: rgba(200, 134, 13, 0.1); border: 1px solid #c8860d; border-radius: 5px; padding: 15px; margin-top: 10px;">
                            <div style="font-size: 1.1rem; font-weight: 400; margin-bottom: 5px;">${item.name}</div>
                            <div style="color: rgba(255, 255, 255, 0.7); font-size: 0.9rem;">${tourData[category].title} > ${tourData[category].subcategories[subIndex].name}</div>
                            <div style="color: #c8860d; font-size: 1rem; margin-top: 8px;">${item.price}</div>
                        </div>
                    </div>
                `;
            }
            
            let html = `
                <div class="detail-view">
                    <h2 class="detail-title">申し込みフォーム</h2>
                    <div style="max-width: 600px; margin: 0 auto; text-align: left;">
                        ${selectedItemsHtml}
                        <div class="form-group">
                            <label>お名前</label>
                            <input type="text" placeholder="山田 太郎">
                        </div>
                        <div class="form-group">
                            <label>メールアドレス</label>
                            <input type="email" placeholder="example@email.com">
                        </div>
                        <div class="form-group">
                            <label>お住まいの国</label>
                            <input type="text" placeholder="日本">
                        </div>
                        <div class="form-group">
                            <label>希望日や時間帯</label>
                            <textarea placeholder="2024年3月15日 午前10時〜"></textarea>
                        </div>
                        <div class="form-group">
                            <label>人数（大人）</label>
                            <input type="number" placeholder="2" min="1">
                        </div>
                        <div class="form-group">
                            <label>人数（子供）</label>
                            <input type="number" placeholder="0" min="0">
                        </div>
                        <div class="form-group">
                            <label>性別</label>
                            <input type="text" placeholder="男性・女性・その他">
                        </div>
                        <div class="form-group">
                            <label>アレルギーや宗教的な制限</label>
                            <textarea placeholder="特になし"></textarea>
                        </div>
                        <button class="detail-button" onclick="submitForm()" style="width: 100%; margin-top: 20px;">送信する（UIのみ）</button>
                    </div>
                </div>
            `;
            
            document.getElementById('modalInner').innerHTML = html;
            document.getElementById('modalBack').classList.add('show');
        }

        // カートの内容で申し込みフォームを表示
        function showInquiryFormWithCart() {
            // ナビゲーション履歴が既にある場合（詳細画面から遷移）は保持
            // ない場合（カートから遷移）は新規作成
            const lastItem = navigationHistory[navigationHistory.length - 1];
            if (navigationHistory.length === 0 || lastItem !== 'detail-form') {
                navigationHistory = ['cart-form'];
            }
            
            // カート内のアイテムを見やすく表示
            let selectedItemsHtml = `
                <div class="form-group">
                    <label>選択された体験 (${cart.length}件)</label>
                    <div style="background: rgba(200, 134, 13, 0.1); border: 1px solid #c8860d; border-radius: 5px; padding: 15px; margin-top: 10px; max-height: 300px; overflow-y: auto;">
            `;
            
            cart.forEach((item, index) => {
                selectedItemsHtml += `
                    <div style="padding: 12px; ${index > 0 ? 'border-top: 1px solid rgba(255, 255, 255, 0.2); margin-top: 12px; padding-top: 12px;' : ''}">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div style="flex: 1;">
                                <div style="font-size: 1.05rem; font-weight: 400; margin-bottom: 5px;">${item.name}</div>
                                <div style="color: rgba(255, 255, 255, 0.7); font-size: 0.85rem;">${item.categoryTitle} > ${item.subCategory}</div>
                            </div>
                            <div style="color: #c8860d; font-size: 0.95rem; margin-left: 15px; white-space: nowrap;">${item.price}</div>
                        </div>
                    </div>
                `;
            });
            
            selectedItemsHtml += `
                    </div>
                </div>
            `;
            
            let html = `
                <div class="detail-view">
                    <h2 class="detail-title">申し込みフォーム</h2>
                    <div style="max-width: 600px; margin: 0 auto; text-align: left;">
                        ${selectedItemsHtml}
                        <div class="form-group">
                            <label>お名前</label>
                            <input type="text" placeholder="山田 太郎">
                        </div>
                        <div class="form-group">
                            <label>メールアドレス</label>
                            <input type="email" placeholder="example@email.com">
                        </div>
                        <div class="form-group">
                            <label>お住まいの国</label>
                            <input type="text" placeholder="日本">
                        </div>
                        <div class="form-group">
                            <label>希望日や時間帯</label>
                            <textarea placeholder="2024年3月15日 午前10時〜&#10;※複数の体験を選択されている場合は、それぞれの希望日時をご記入ください"></textarea>
                        </div>
                        <div class="form-group">
                            <label>人数（大人）</label>
                            <input type="number" placeholder="2" min="1">
                        </div>
                        <div class="form-group">
                            <label>人数（子供）</label>
                            <input type="number" placeholder="0" min="0">
                        </div>
                        <div class="form-group">
                            <label>性別</label>
                            <input type="text" placeholder="男性・女性・その他">
                        </div>
                        <div class="form-group">
                            <label>アレルギーや宗教的な制限</label>
                            <textarea placeholder="特になし"></textarea>
                        </div>
                        <div class="form-group">
                            <label>その他のご要望</label>
                            <textarea placeholder="体験の順番や時間配分など、ご要望があればお書きください" style="min-height: 100px;"></textarea>
                        </div>
                        <button class="detail-button" onclick="submitForm()" style="width: 100%; margin-top: 20px;">送信する（UIのみ）</button>
                    </div>
                </div>
            `;
            
            document.getElementById('modalInner').innerHTML = html;
            document.getElementById('modal').classList.add('active');
            document.getElementById('modalBack').classList.add('show');
        }

        // 戻るボタンの処理
        function goBack() {
            const currentPage = navigationHistory[0];
            
            if (currentPage === 'cart-form') {
                // カートフォームからカートに戻る
                closeModal();
                openCart();
            } else if (currentPage === 'detail-form') {
                // 詳細画面からの申し込みフォームの場合、詳細画面に戻る
                navigationHistory.pop();
                const [_, category, subIndex, itemIndex] = navigationHistory;
                openDetail(category, subIndex, itemIndex);
            } else if (currentPage === 'form') {
                // フォームから詳細に戻る
                navigationHistory.pop();
                const [_, category, subIndex, itemIndex] = navigationHistory;
                openDetail(category, subIndex, itemIndex);
            } else if (currentPage === 'detail') {
                // 詳細からサブカテゴリーに戻る
                const [_, category, subIndex] = navigationHistory;
                openSubcategory(category, subIndex);
            } else if (currentPage === 'subcategory') {
                // サブカテゴリーからカテゴリーに戻る
                const [_, category] = navigationHistory;
                openCategory(category);
            } else if (currentPage === 'category') {
                // カテゴリーからモーダルを閉じる
                closeModal();
            }
        }

        // フォーム送信（UIのみ）
        function submitForm() {
            alert('お申し込みありがとうございます！\n（※これはUIのデモです。実際の送信機能は実装されていません）');
        }

        // モーダルを閉じる
        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // モーダル外クリックで閉じる
        document.getElementById('modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // ハンバーガーメニューの開閉
        function toggleMenu() {
            const sideMenu = document.getElementById('sideMenu');
            const menuOverlay = document.getElementById('menuOverlay');
            const hamburger = document.querySelector('.hamburger');
            
            sideMenu.classList.toggle('active');
            menuOverlay.classList.toggle('active');
            hamburger.classList.toggle('active');
        }
    </script>
</body>
</html>